<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
 | Generated by Apache Maven Doxia at 2024-10-22
 | Rendered using Apache Maven Stylus Skin 1.5
-->
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Apache Hadoop 3.5.0-SNAPSHOT &#x2013; YARN Service API</title>
    <style type="text/css" media="all">
      @import url("../css/maven-base.css");
      @import url("../css/maven-theme.css");
      @import url("../css/site.css");
    </style>
    <link rel="stylesheet" href="../css/print.css" type="text/css" media="print" />
        <meta name="Date-Revision-yyyymmdd" content="20241022" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
                </head>
  <body class="composite">
    <div id="banner">
                        <a href="http://hadoop.apache.org/" id="bannerLeft">
                                        <img src="http://hadoop.apache.org/images/hadoop-logo.jpg" alt="" />
                </a>
                              <a href="http://www.apache.org/" id="bannerRight">
                                        <img src="http://www.apache.org/images/asf_logo_wide.png" alt="" />
                </a>
            <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                                     <div class="xright">            <a href="http://wiki.apache.org/hadoop" class="externalLink">Wiki</a>
            |
                <a href="https://gitbox.apache.org/repos/asf/hadoop.git" class="externalLink">git</a>
            |
                <a href="http://hadoop.apache.org/" class="externalLink">Apache Hadoop</a>
              
                                   &nbsp;| Last Published: 2024-10-22
              &nbsp;| Version: 3.5.0-SNAPSHOT
            </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                                                   <h5>General</h5>
                  <ul>
                  <li class="none">
                  <a href="../../../index.html">Overview</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/SingleCluster.html">Single Node Setup</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/ClusterSetup.html">Cluster Setup</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/CommandsManual.html">Commands Reference</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/FileSystemShell.html">FileSystem Shell</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/Compatibility.html">Compatibility Specification</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/DownstreamDev.html">Downstream Developer's Guide</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/AdminCompatibilityGuide.html">Admin Compatibility Guide</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/InterfaceClassification.html">Interface Classification</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/filesystem/index.html">FileSystem Specification</a>
            </li>
          </ul>
                       <h5>Common</h5>
                  <ul>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/CLIMiniCluster.html">CLI Mini Cluster</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/FairCallQueue.html">Fair Call Queue</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/NativeLibraries.html">Native Libraries</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/Superusers.html">Proxy User</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/RackAwareness.html">Rack Awareness</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/SecureMode.html">Secure Mode</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/ServiceLevelAuth.html">Service Level Authorization</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/HttpAuthentication.html">HTTP Authentication</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/CredentialProviderAPI.html">Credential Provider API</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-kms/index.html">Hadoop KMS</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/Tracing.html">Tracing</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/UnixShellGuide.html">Unix Shell Guide</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/registry/index.html">Registry</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/AsyncProfilerServlet.html">Async Profiler</a>
            </li>
          </ul>
                       <h5>HDFS</h5>
                  <ul>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/HdfsDesign.html">Architecture</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/HdfsUserGuide.html">User Guide</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/HDFSCommands.html">Commands Reference</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/HDFSHighAvailabilityWithQJM.html">NameNode HA With QJM</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/HDFSHighAvailabilityWithNFS.html">NameNode HA With NFS</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/ObserverNameNode.html">Observer NameNode</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/Federation.html">Federation</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/ViewFs.html">ViewFs</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/ViewFsOverloadScheme.html">ViewFsOverloadScheme</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/HdfsSnapshots.html">Snapshots</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/HdfsEditsViewer.html">Edits Viewer</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/HdfsImageViewer.html">Image Viewer</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/HdfsPermissionsGuide.html">Permissions and HDFS</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/HdfsQuotaAdminGuide.html">Quotas and HDFS</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/LibHdfs.html">libhdfs (C API)</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/WebHDFS.html">WebHDFS (REST API)</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-hdfs-httpfs/index.html">HttpFS</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/ShortCircuitLocalReads.html">Short Circuit Local Reads</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/CentralizedCacheManagement.html">Centralized Cache Management</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/HdfsNfsGateway.html">NFS Gateway</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/HdfsRollingUpgrade.html">Rolling Upgrade</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/ExtendedAttributes.html">Extended Attributes</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/TransparentEncryption.html">Transparent Encryption</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/HdfsMultihoming.html">Multihoming</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/ArchivalStorage.html">Storage Policies</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/MemoryStorage.html">Memory Storage Support</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/SLGUserGuide.html">Synthetic Load Generator</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/HDFSErasureCoding.html">Erasure Coding</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/HDFSDiskbalancer.html">Disk Balancer</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/HdfsUpgradeDomain.html">Upgrade Domain</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/HdfsDataNodeAdminGuide.html">DataNode Admin</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs-rbf/HDFSRouterFederation.html">Router Federation</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/HdfsProvidedStorage.html">Provided Storage</a>
            </li>
          </ul>
                       <h5>MapReduce</h5>
                  <ul>
                  <li class="none">
                  <a href="../../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/MapReduceTutorial.html">Tutorial</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/MapredCommands.html">Commands Reference</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/MapReduce_Compatibility_Hadoop1_Hadoop2.html">Compatibility with 1.x</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/EncryptedShuffle.html">Encrypted Shuffle</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/PluggableShuffleAndPluggableSort.html">Pluggable Shuffle/Sort</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/DistributedCacheDeploy.html">Distributed Cache Deploy</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/SharedCacheSupport.html">Support for YARN Shared Cache</a>
            </li>
          </ul>
                       <h5>MapReduce REST APIs</h5>
                  <ul>
                  <li class="none">
                  <a href="../../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/MapredAppMasterRest.html">MR Application Master</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-mapreduce-client/hadoop-mapreduce-client-hs/HistoryServerRest.html">MR History Server</a>
            </li>
          </ul>
                       <h5>YARN</h5>
                  <ul>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/YARN.html">Architecture</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/YarnCommands.html">Commands Reference</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/CapacityScheduler.html">Capacity Scheduler</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/FairScheduler.html">Fair Scheduler</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/ResourceManagerRestart.html">ResourceManager Restart</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/ResourceManagerHA.html">ResourceManager HA</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/ResourceModel.html">Resource Model</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/NodeLabel.html">Node Labels</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/NodeAttributes.html">Node Attributes</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/WebApplicationProxy.html">Web Application Proxy</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/TimelineServer.html">Timeline Server</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/TimelineServiceV2.html">Timeline Service V.2</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/WritingYarnApplications.html">Writing YARN Applications</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/YarnApplicationSecurity.html">YARN Application Security</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/NodeManager.html">NodeManager</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/DockerContainers.html">Running Applications in Docker Containers</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/RuncContainers.html">Running Applications in runC Containers</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/NodeManagerCgroups.html">Using CGroups</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/SecureContainer.html">Secure Containers</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/ReservationSystem.html">Reservation System</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/GracefulDecommission.html">Graceful Decommission</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/OpportunisticContainers.html">Opportunistic Containers</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/Federation.html">YARN Federation</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/SharedCache.html">Shared Cache</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/UsingGpus.html">Using GPU</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/UsingFPGA.html">Using FPGA</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/PlacementConstraints.html">Placement Constraints</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/YarnUI2.html">YARN UI2</a>
            </li>
          </ul>
                       <h5>YARN REST APIs</h5>
                  <ul>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/WebServicesIntro.html">Introduction</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/ResourceManagerRest.html">Resource Manager</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/NodeManagerRest.html">Node Manager</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/TimelineServer.html#Timeline_Server_REST_API_v1">Timeline Server</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/TimelineServiceV2.html#Timeline_Service_v.2_REST_API">Timeline Service V.2</a>
            </li>
          </ul>
                       <h5>YARN Service</h5>
                  <ul>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/yarn-service/Overview.html">Overview</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/yarn-service/QuickStart.html">QuickStart</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/yarn-service/Concepts.html">Concepts</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/yarn-service/YarnServiceAPI.html">Yarn Service API</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/yarn-service/ServiceDiscovery.html">Service Discovery</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-site/yarn-service/SystemServices.html">System Services</a>
            </li>
          </ul>
                       <h5>Hadoop Compatible File Systems</h5>
                  <ul>
                  <li class="none">
                  <a href="../../../hadoop-aliyun/tools/hadoop-aliyun/index.html">Aliyun OSS</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-aws/tools/hadoop-aws/index.html">Amazon S3</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-azure/index.html">Azure Blob Storage</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-azure-datalake/index.html">Azure Data Lake Storage</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-cos/cloud-storage/index.html">Tencent COS</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-huaweicloud/cloud-storage/index.html">Huaweicloud OBS</a>
            </li>
          </ul>
                       <h5>Auth</h5>
                  <ul>
                  <li class="none">
                  <a href="../../../hadoop-auth/index.html">Overview</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-auth/Examples.html">Examples</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-auth/Configuration.html">Configuration</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-auth/BuildingIt.html">Building</a>
            </li>
          </ul>
                       <h5>Tools</h5>
                  <ul>
                  <li class="none">
                  <a href="../../../hadoop-streaming/HadoopStreaming.html">Hadoop Streaming</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-archives/HadoopArchives.html">Hadoop Archives</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-archive-logs/HadoopArchiveLogs.html">Hadoop Archive Logs</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-distcp/DistCp.html">DistCp</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-federation-balance/HDFSFederationBalance.html">HDFS Federation Balance</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-gridmix/GridMix.html">GridMix</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-rumen/Rumen.html">Rumen</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-resourceestimator/ResourceEstimator.html">Resource Estimator Service</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-sls/SchedulerLoadSimulator.html">Scheduler Load Simulator</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/Benchmarking.html">Hadoop Benchmarking</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-dynamometer/Dynamometer.html">Dynamometer</a>
            </li>
          </ul>
                       <h5>Reference</h5>
                  <ul>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/release/">Changelog and Release Notes</a>
            </li>
                  <li class="none">
                  <a href="../../../api/index.html">Java API docs</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/UnixShellAPI.html">Unix Shell API</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/Metrics.html">Metrics</a>
            </li>
          </ul>
                       <h5>Configuration</h5>
                  <ul>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/core-default.xml">core-default.xml</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs/hdfs-default.xml">hdfs-default.xml</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-hdfs-rbf/hdfs-rbf-default.xml">hdfs-rbf-default.xml</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/mapred-default.xml">mapred-default.xml</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-yarn/hadoop-yarn-common/yarn-default.xml">yarn-default.xml</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-kms/kms-default.html">kms-default.xml</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-hdfs-httpfs/httpfs-default.html">httpfs-default.xml</a>
            </li>
                  <li class="none">
                  <a href="../../../hadoop-project-dist/hadoop-common/DeprecatedProperties.html">Deprecated Properties</a>
            </li>
          </ul>
                                 <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
          <img alt="Built by Maven" src="../images/logos/maven-feather.png"/>
        </a>
                       
                               </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <!---
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License. See accompanying LICENSE file.
-->
<h1>YARN Service API</h1>
<ul>
<li><a href="#Introduction">Introduction</a>
<ul>
<li><a href="#Version_information">Version information</a></li>
<li><a href="#License_information">License information</a></li>
<li><a href="#URI_scheme">URI scheme</a></li>
<li><a href="#Consumes">Consumes</a></li>
<li><a href="#Produces">Produces</a></li></ul></li>
<li><a href="#Paths">Paths</a>
<ul>
<li><a href="#Create_a_service">Create a service</a></li>
<li><a href="#a.28TBD.29_List_of_services_running_in_the_cluster.">(TBD) List of services running in the cluster.</a></li>
<li><a href="#Get_current_version_of_the_API_server.">Get current version of the API server.</a></li>
<li><a href="#Update_a_service_or_upgrade_the_binary_version_of_the_components_of_a_running_service">Update a service or upgrade the binary version of the components of a running service</a></li>
<li><a href="#Get_details_of_a_service.">Get details of a service.</a></li>
<li><a href="#Destroy_a_service">Destroy a service</a></li>
<li><a href="#Flex_a_component.E2.80.99s_number_of_instances.">Flex a component&#x2019;s number of instances.</a></li></ul></li>
<li><a href="#Definitions">Definitions</a>
<ul>
<li><a href="#Artifact">Artifact</a></li>
<li><a href="#Component">Component</a></li>
<li><a href="#ComponentState">ComponentState</a></li>
<li><a href="#ConfigFile">ConfigFile</a></li>
<li><a href="#Configuration">Configuration</a></li>
<li><a href="#Container">Container</a></li>
<li><a href="#ContainerState">ContainerState</a></li>
<li><a href="#KerberosPrincipal">KerberosPrincipal</a></li>
<li><a href="#PlacementConstraint">PlacementConstraint</a></li>
<li><a href="#PlacementPolicy">PlacementPolicy</a></li>
<li><a href="#PlacementScope">PlacementScope</a></li>
<li><a href="#PlacementType">PlacementType</a></li>
<li><a href="#ReadinessCheck">ReadinessCheck</a></li>
<li><a href="#Resource">Resource</a></li>
<li><a href="#ResourceInformation">ResourceInformation</a></li>
<li><a href="#Service">Service</a></li>
<li><a href="#ServiceState">ServiceState</a></li>
<li><a href="#ServiceStatus">ServiceStatus</a></li></ul></li>
<li><a href="#Examples">Examples</a>
<ul>
<li><a href="#Create_a_simple_single-component_service_with_most_attribute_values_as_defaults">Create a simple single-component service with most attribute values as defaults</a></li>
<li><a href="#Update_to_modify_the_lifetime_of_a_service">Update to modify the lifetime of a service</a></li>
<li><a href="#Stop_a_service">Stop a service</a></li>
<li><a href="#Start_a_service">Start a service</a></li>
<li><a href="#Update_to_flex_up.2Fdown_the_number_of_containers_.28instances.29_of_a_component_of_a_service">Update to flex up/down the number of containers (instances) of a component of a service</a></li>
<li><a href="#Destroy_a_service">Destroy a service</a></li>
<li><a href="#Create_a_complicated_service__-_HBase">Create a complicated service  - HBase</a></li>
<li><a href="#Create_a_service_requesting_GPUs_in_addition_to_CPUs_and_RAM">Create a service requesting GPUs in addition to CPUs and RAM</a></li>
<li><a href="#Create_a_service_with_a_component_requesting_anti-affinity_placement_policy">Create a service with a component requesting anti-affinity placement policy</a></li>
<li><a href="#Create_a_service_with_health_threshold_monitor_enabled_for_a_component">Create a service with health threshold monitor enabled for a component</a></li></ul></li></ul>
<section>
<h2><a name="Introduction"></a>Introduction</h2>
<p>Bringing a new service on YARN today is not a simple experience. The APIs of existing frameworks are either too low level (native YARN), require writing new code (for frameworks with programmatic APIs) or writing a complex spec (for declarative frameworks).</p>
<p>This simplified REST API can be used to create and manage the lifecycle of YARN services. In most cases, the application owner will not be forced to make any changes to their applications. This is primarily true if the application is packaged with containerization technologies like Docker.</p>
<p>This document describes the API specifications (aka. YarnFile) for deploying/managing containerized services on YARN. The same JSON spec can be used for both REST API and CLI to manage the services.</p><section>
<h3><a name="Version_information"></a>Version information</h3>
<p>Version: 1.0.0</p></section><section>
<h3><a name="License_information"></a>License information</h3>
<p>License: Apache 2.0 License URL: <a class="externalLink" href="http://www.apache.org/licenses/LICENSE-2.0.html">http://www.apache.org/licenses/LICENSE-2.0.html</a></p></section><section>
<h3><a name="URI_scheme"></a>URI scheme</h3>
<p>Host: host.mycompany.com</p>
<p>Port: 8088(default RM port)</p>
<p>Schemes: HTTP</p></section><section>
<h3><a name="Consumes"></a>Consumes</h3>
<ul>

<li>application/json</li>
</ul></section><section>
<h3><a name="Produces"></a>Produces</h3>
<ul>

<li>application/json</li>
</ul></section></section><section>
<h2><a name="Paths"></a>Paths</h2><section>
<h3><a name="Create_a_service"></a>Create a service</h3>

<div class="source">
<div class="source">
<pre>POST /app/v1/services
</pre></div></div>
<section>
<h4><a name="Description"></a>Description</h4>
<p>Create a service. The request JSON is a service object with details required for creation. If the request is successful it returns 202 Accepted. A success of this API only confirms success in submission of the service creation request. There is no guarantee that the service will actually reach a RUNNING state. Resource availability and several other factors determines if the service will be deployed in the cluster. It is expected that clients would subsequently call the GET API to get details of the service and determine its state.</p></section><section>
<h4><a name="Parameters"></a>Parameters</h4>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th>Type</th>
<th>Name</th>
<th>Description</th>
<th>Required</th>
<th>Schema</th>
<th>Default</th></tr>
</thead><tbody>

<tr class="b">
<td>BodyParameter</td>
<td>Service</td>
<td>Service request object</td>
<td>true</td>
<td colspan="2">Service</td></tr>
</tbody>
</table></section><section>
<h4><a name="Responses"></a>Responses</h4>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th>HTTP Code</th>
<th>Description</th>
<th>Schema</th></tr>
</thead><tbody>

<tr class="b">
<td>202</td>
<td>The request to create a service is accepted</td>
<td>No Content</td></tr>
<tr class="a">
<td>400</td>
<td>Invalid service definition provided in the request body</td>
<td>No Content</td></tr>
<tr class="b">
<td>500</td>
<td>Failed to create a service</td>
<td>No Content</td></tr>
<tr class="a">
<td>default</td>
<td>Unexpected error</td>
<td>ServiceStatus</td></tr>
</tbody>
</table></section></section><section>
<h3><a name="a.28TBD.29_List_of_services_running_in_the_cluster."></a>(TBD) List of services running in the cluster.</h3>

<div class="source">
<div class="source">
<pre>GET /app/v1/services
</pre></div></div>
<section>
<h4><a name="Description"></a>Description</h4>
<p>Get a list of all currently running services (response includes a minimal projection of the service info). For more details do a GET on a specific service name.</p></section><section>
<h4><a name="Responses"></a>Responses</h4>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th>HTTP Code</th>
<th>Description</th>
<th>Schema</th></tr>
</thead><tbody>

<tr class="b">
<td>200</td>
<td>An array of services</td>
<td>Service array</td></tr>
<tr class="a">
<td>default</td>
<td>Unexpected error</td>
<td>ServiceStatus</td></tr>
</tbody>
</table></section></section><section>
<h3><a name="Get_current_version_of_the_API_server."></a>Get current version of the API server.</h3>

<div class="source">
<div class="source">
<pre>GET /app/v1/services/version
</pre></div></div>
<section>
<h4><a name="Description"></a>Description</h4>
<p>Get current version of the API server.</p></section><section>
<h4><a name="Responses"></a>Responses</h4>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th>HTTP Code</th>
<th>Description</th>
<th>Schema</th></tr>
</thead><tbody>

<tr class="b">
<td>200</td>
<td>Successful request</td>
<td>No Content</td></tr>
</tbody>
</table></section></section><section>
<h3><a name="Update_a_service_or_upgrade_the_binary_version_of_the_components_of_a_running_service"></a>Update a service or upgrade the binary version of the components of a running service</h3>

<div class="source">
<div class="source">
<pre>PUT /app/v1/services/{service_name}
</pre></div></div>
<section>
<h4><a name="Description"></a>Description</h4>
<p>Update the runtime properties of a service. Currently the following operations are supported - update lifetime, stop/start a service. The PUT operation is also used to orchestrate an upgrade of the service containers to a newer version of their artifacts (TBD).</p></section><section>
<h4><a name="Parameters"></a>Parameters</h4>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th>Type</th>
<th>Name</th>
<th>Description</th>
<th>Required</th>
<th>Schema</th>
<th>Default</th></tr>
</thead><tbody>

<tr class="b">
<td>PathParameter</td>
<td>service_name</td>
<td>Service name</td>
<td>true</td>
<td colspan="2">string</td></tr>
<tr class="a">
<td>BodyParameter</td>
<td>Service</td>
<td>The updated service definition. It can contain the updated lifetime of a service or the desired state (STOPPED/STARTED) of a service to initiate a start/stop operation against the specified service</td>
<td>true</td>
<td colspan="2">Service</td></tr>
</tbody>
</table></section><section>
<h4><a name="Responses"></a>Responses</h4>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th>HTTP Code</th>
<th>Description</th>
<th>Schema</th></tr>
</thead><tbody>

<tr class="b">
<td>204</td>
<td>Update or upgrade was successful</td>
<td>No Content</td></tr>
<tr class="a">
<td>404</td>
<td>Service does not exist</td>
<td>No Content</td></tr>
<tr class="b">
<td>default</td>
<td>Unexpected error</td>
<td>ServiceStatus</td></tr>
</tbody>
</table></section></section><section>
<h3><a name="Get_details_of_a_service."></a>Get details of a service.</h3>

<div class="source">
<div class="source">
<pre>GET /app/v1/services/{service_name}
</pre></div></div>
<section>
<h4><a name="Description"></a>Description</h4>
<p>Return the details (including containers) of a running service</p></section><section>
<h4><a name="Parameters"></a>Parameters</h4>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th>Type</th>
<th>Name</th>
<th>Description</th>
<th>Required</th>
<th>Schema</th>
<th>Default</th></tr>
</thead><tbody>

<tr class="b">
<td>PathParameter</td>
<td>service_name</td>
<td>Service name</td>
<td>true</td>
<td colspan="2">string</td></tr>
</tbody>
</table></section><section>
<h4><a name="Responses"></a>Responses</h4>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th>HTTP Code</th>
<th>Description</th>
<th>Schema</th></tr>
</thead><tbody>

<tr class="b">
<td>200</td>
<td>a service object</td>
<td>object</td></tr>
<tr class="a">
<td>404</td>
<td>Service does not exist</td>
<td>No Content</td></tr>
<tr class="b">
<td>default</td>
<td>Unexpected error</td>
<td>ServiceStatus</td></tr>
</tbody>
</table></section></section><section>
<h3><a name="Destroy_a_service"></a>Destroy a service</h3>

<div class="source">
<div class="source">
<pre>DELETE /app/v1/services/{service_name}
</pre></div></div>
<section>
<h4><a name="Description"></a>Description</h4>
<p>Destroy a service and release all resources. This API might have to return JSON data providing location of logs (TBD), etc.</p></section><section>
<h4><a name="Parameters"></a>Parameters</h4>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th>Type</th>
<th>Name</th>
<th>Description</th>
<th>Required</th>
<th>Schema</th>
<th>Default</th></tr>
</thead><tbody>

<tr class="b">
<td>PathParameter</td>
<td>service_name</td>
<td>Service name</td>
<td>true</td>
<td colspan="2">string</td></tr>
</tbody>
</table></section><section>
<h4><a name="Responses"></a>Responses</h4>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th>HTTP Code</th>
<th>Description</th>
<th>Schema</th></tr>
</thead><tbody>

<tr class="b">
<td>204</td>
<td>Destroy was successful</td>
<td>No Content</td></tr>
<tr class="a">
<td>404</td>
<td>Service does not exist</td>
<td>No Content</td></tr>
<tr class="b">
<td>default</td>
<td>Unexpected error</td>
<td>ServiceStatus</td></tr>
</tbody>
</table></section></section><section>
<h3><a name="Flex_a_component.E2.80.99s_number_of_instances."></a>Flex a component&#x2019;s number of instances.</h3>

<div class="source">
<div class="source">
<pre>PUT /app/v1/services/{service_name}/components/{component_name}
</pre></div></div>
<section>
<h4><a name="Description"></a>Description</h4>
<p>Set a component&#x2019;s desired number of instanes</p></section><section>
<h4><a name="Parameters"></a>Parameters</h4>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th>Type</th>
<th>Name</th>
<th>Description</th>
<th>Required</th>
<th>Schema</th>
<th>Default</th></tr>
</thead><tbody>

<tr class="b">
<td>PathParameter</td>
<td>service_name</td>
<td>Service name</td>
<td>true</td>
<td colspan="2">string</td></tr>
<tr class="a">
<td>PathParameter</td>
<td>component_name</td>
<td>Component name</td>
<td>true</td>
<td colspan="2">string</td></tr>
<tr class="b">
<td>BodyParameter</td>
<td>Component</td>
<td>The definition of a component which contains the updated number of instances.</td>
<td>true</td>
<td colspan="2">Component</td></tr>
</tbody>
</table></section><section>
<h4><a name="Responses"></a>Responses</h4>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th>HTTP Code</th>
<th>Description</th>
<th>Schema</th></tr>
</thead><tbody>

<tr class="b">
<td>200</td>
<td>Flex was successful</td>
<td>No Content</td></tr>
<tr class="a">
<td>404</td>
<td>Service does not exist</td>
<td>No Content</td></tr>
<tr class="b">
<td>default</td>
<td>Unexpected error</td>
<td>ServiceStatus</td></tr>
</tbody>
</table></section></section></section><section>
<h2><a name="Definitions"></a>Definitions</h2><section>
<h3><a name="Artifact"></a>Artifact</h3>
<p>Artifact of a service component. If not specified, component will just run the bare launch command and no artifact will be localized.</p>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th>Name</th>
<th>Description</th>
<th>Required</th>
<th>Schema</th>
<th>Default</th></tr>
</thead><tbody>

<tr class="b">
<td>id</td>
<td>Artifact id. Examples are package location uri for tarball based services, image name for docker, name of service, etc.</td>
<td>true</td>
<td colspan="2">string</td></tr>
<tr class="a">
<td>type</td>
<td>Artifact type, like docker, tarball, etc. (optional). For TARBALL type, the specified tarball will be localized to the container local working directory under a folder named lib. For SERVICE type, the service specified will be read and its components will be added into this service. The original component with artifact type SERVICE will be removed (any properties specified in the original component will be ignored).</td>
<td>false</td>
<td>enum (DOCKER, TARBALL, SERVICE)</td>
<td>DOCKER</td></tr>
<tr class="b">
<td>uri</td>
<td>Artifact location to support multiple artifact stores (optional).</td>
<td>false</td>
<td colspan="2">string</td></tr>
</tbody>
</table></section><section>
<h3><a name="Component"></a>Component</h3>
<p>One or more components of the service. If the service is HBase say, then the component can be a simple role like master or regionserver. If the service is a complex business webapp then a component can be other services say Kafka or Storm. Thereby it opens up the support for complex and nested services.</p>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th>Name</th>
<th>Description</th>
<th>Required</th>
<th>Schema</th>
<th>Default</th></tr>
</thead><tbody>

<tr class="b">
<td>name</td>
<td>Name of the service component (mandatory). If Registry DNS is enabled, the max length is 44 characters.</td>
<td>true</td>
<td colspan="2">string</td></tr>
<tr class="a">
<td>state</td>
<td>The state of the component</td>
<td>false</td>
<td colspan="2">ComponentState</td></tr>
<tr class="b">
<td>dependencies</td>
<td>An array of service components which should be in READY state (as defined by readiness check), before this component can be started. The dependencies across all components of a service should be represented as a DAG.</td>
<td>false</td>
<td colspan="2">string array</td></tr>
<tr class="a">
<td>readiness_check</td>
<td>Readiness check for this component.</td>
<td>false</td>
<td colspan="2">ReadinessCheck</td></tr>
<tr class="b">
<td>artifact</td>
<td>Artifact of the component (optional). If not specified, the service level global artifact takes effect.</td>
<td>false</td>
<td colspan="2">Artifact</td></tr>
<tr class="a">
<td>launch_command</td>
<td>The custom launch command of this component (optional for DOCKER component, required otherwise). When specified at the component level, it overrides the value specified at the global level (if any). If docker image supports ENTRYPOINT, launch_command is delimited by comma(,) instead of space.</td>
<td>false</td>
<td colspan="2">string</td></tr>
<tr class="b">
<td>resource</td>
<td>Resource of this component (optional). If not specified, the service level global resource takes effect.</td>
<td>false</td>
<td colspan="2">Resource</td></tr>
<tr class="a">
<td>number_of_containers</td>
<td>Number of containers for this component (optional). If not specified, the service level global number_of_containers takes effect.</td>
<td>false</td>
<td colspan="2">integer (int64)</td></tr>
<tr class="b">
<td>decommissioned_instances</td>
<td>List of decommissioned component instances.</td>
<td>false</td>
<td colspan="2">string array</td></tr>
<tr class="a">
<td>containers</td>
<td>Containers of a started component. Specifying a value for this attribute for the POST payload raises a validation error. This blob is available only in the GET response of a started service.</td>
<td>false</td>
<td colspan="2">Container array</td></tr>
<tr class="b">
<td>run_privileged_container</td>
<td>Run all containers of this component in privileged mode (YARN-4262).</td>
<td>false</td>
<td colspan="2">boolean</td></tr>
<tr class="a">
<td>placement_policy</td>
<td>Advanced scheduling and placement policies for all containers of this component.</td>
<td>false</td>
<td colspan="2">PlacementPolicy</td></tr>
<tr class="b">
<td>configuration</td>
<td>Config properties for this component.</td>
<td>false</td>
<td colspan="2">Configuration</td></tr>
<tr class="a">
<td>quicklinks</td>
<td>A list of quicklink keys defined at the service level, and to be resolved by this component.</td>
<td>false</td>
<td colspan="2">string array</td></tr>
<tr class="b">
<td>restart_policy</td>
<td>Policy of restart component. Including ALWAYS (Always restart</td></tr>
<tr class="a">
<td>component even if instance exit code = 0); ON_FAILURE (Only restart component if instance exit code != 0); NEVER (Do not restart in any cases). Flexing is not supported for components which have restart_policy=ON_FAILURE/NEVER</td>
<td>false</td>
<td>string</td>
<td>ALWAYS</td></tr>
</tbody>
</table></section><section>
<h3><a name="ComponentState"></a>ComponentState</h3>
<p>The state of the component</p>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th>Name</th>
<th>Description</th>
<th>Required</th>
<th>Schema</th>
<th>Default</th></tr>
</thead><tbody>

<tr class="b">
<td>state</td>
<td>enum of the state of the component</td>
<td>false</td>
<td colspan="2">enum (INIT, FLEXING, STABLE, UPGRADING)</td></tr>
</tbody>
</table></section><section>
<h3><a name="ConfigFile"></a>ConfigFile</h3>
<p>A config file that needs to be created and made available as a volume in a service component container.</p>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th>Name</th>
<th>Description</th>
<th>Required</th>
<th>Schema</th>
<th>Default</th></tr>
</thead><tbody>

<tr class="b">
<td>type</td>
<td>Config file in the standard format like xml, properties, json, yaml, template or static/archive resource files. When static/archive types are specified, file must be uploaded to remote file system before launching the job, and YARN service framework will localize files prior to launching containers. Archive files are unwrapped during localization </td>
<td>false</td>
<td colspan="2">enum (XML, PROPERTIES, JSON, YAML, TEMPLATE, HADOOP_XML, STATIC, ARCHIVE)</td></tr>
<tr class="a">
<td>dest_file</td>
<td>The path that this configuration file should be created as. If it is an absolute path, it will be mounted into the DOCKER container. Absolute paths are only allowed for DOCKER containers.  If it is a relative path, only the file name should be provided, and the file will be created in the container local working directory under a folder named conf for all types other than static/archive. For static/archive resource types, the files are available under resources directory.</td>
<td>false</td>
<td colspan="2">string</td></tr>
<tr class="b">
<td>src_file</td>
<td>This provides the source location of the configuration file, the content of which is dumped to dest_file post property substitutions, in the format as specified in type. Typically the src_file would point to a source controlled network accessible file maintained by tools like puppet, chef, or hdfs etc. Currently, only hdfs is supported.</td>
<td>false</td>
<td colspan="2">string</td></tr>
<tr class="a">
<td>properties</td>
<td>A blob of key value pairs that will be dumped in the dest_file in the format as specified in type. If src_file is specified, src_file content are dumped in the dest_file and these properties will overwrite, if any, existing properties in src_file or be added as new properties in src_file.</td>
<td>false</td>
<td colspan="2">object</td></tr>
</tbody>
</table></section><section>
<h3><a name="Configuration"></a>Configuration</h3>
<p>Set of configuration properties that can be injected into the service components via envs, files and custom pluggable helper docker containers. Files of several standard formats like xml, properties, json, yaml and templates will be supported.</p>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th>Name</th>
<th>Description</th>
<th>Required</th>
<th>Schema</th>
<th>Default</th></tr>
</thead><tbody>

<tr class="b">
<td>properties</td>
<td>A blob of key-value pairs for configuring the YARN service AM.</td>
<td>false</td>
<td colspan="2">object</td></tr>
<tr class="a">
<td>env</td>
<td>A blob of key-value pairs which will be appended to the default system properties and handed off to the service at start time. All placeholder references to properties will be substituted before injection.</td>
<td>false</td>
<td colspan="2">object</td></tr>
<tr class="b">
<td>files</td>
<td>Array of list of files that needs to be created and made available as volumes in the service component containers.</td>
<td>false</td>
<td colspan="2">ConfigFile array</td></tr>
</tbody>
</table></section><section>
<h3><a name="Container"></a>Container</h3>
<p>An instance of a running service container.</p>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th>Name</th>
<th>Description</th>
<th>Required</th>
<th>Schema</th>
<th>Default</th></tr>
</thead><tbody>

<tr class="b">
<td>id</td>
<td>Unique container id of a running service, e.g. container_e3751_1458061340047_0008_01_000002.</td>
<td>false</td>
<td colspan="2">string</td></tr>
<tr class="a">
<td>launch_time</td>
<td>The time when the container was created, e.g. 2016-03-16T01:01:49.000Z. This will most likely be different from cluster launch time.</td>
<td>false</td>
<td colspan="2">string (date)</td></tr>
<tr class="b">
<td>ip</td>
<td>IP address of a running container, e.g. 172.31.42.141. The IP address and hostname attribute values are dependent on the cluster/docker network setup as per YARN-4007.</td>
<td>false</td>
<td colspan="2">string</td></tr>
<tr class="a">
<td>hostname</td>
<td>Fully qualified hostname of a running container, e.g. ctr-e3751-1458061340047-0008-01-000002.examplestg.site. The IP address and hostname attribute values are dependent on the cluster/docker network setup as per YARN-4007.</td>
<td>false</td>
<td colspan="2">string</td></tr>
<tr class="b">
<td>bare_host</td>
<td>The bare node or host in which the container is running, e.g. cn008.example.com.</td>
<td>false</td>
<td colspan="2">string</td></tr>
<tr class="a">
<td>state</td>
<td>State of the container of a service.</td>
<td>false</td>
<td colspan="2">ContainerState</td></tr>
<tr class="b">
<td>component_instance_name</td>
<td>Name of the component instance that this container instance belongs to. Component instance name is named as $COMPONENT_NAME-i, where i is a monotonically increasing integer. E.g. A componet called nginx can have multiple component instances named as nginx-0, nginx-1 etc. Each component instance is backed by a container instance.</td>
<td>false</td>
<td colspan="2">string</td></tr>
<tr class="a">
<td>resource</td>
<td>Resource used for this container.</td>
<td>false</td>
<td colspan="2">Resource</td></tr>
<tr class="b">
<td>artifact</td>
<td>Artifact used for this container.</td>
<td>false</td>
<td colspan="2">Artifact</td></tr>
<tr class="a">
<td>privileged_container</td>
<td>Container running in privileged mode or not.</td>
<td>false</td>
<td colspan="2">boolean</td></tr>
</tbody>
</table></section><section>
<h3><a name="ContainerState"></a>ContainerState</h3>
<p>The current state of the container of a service.</p>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th>Name</th>
<th>Description</th>
<th>Required</th>
<th>Schema</th>
<th>Default</th></tr>
</thead><tbody>

<tr class="b">
<td>state</td>
<td>enum of the state of the container</td>
<td>false</td>
<td colspan="2">enum (INIT, STARTED, READY)</td></tr>
</tbody>
</table></section><section>
<h3><a name="KerberosPrincipal"></a>KerberosPrincipal</h3>
<p>The kerberos principal info of the user who launches the service.</p>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th>Name</th>
<th>Description</th>
<th>Required</th>
<th>Schema</th>
<th>Default</th></tr>
</thead><tbody>

<tr class="b">
<td>principal_name</td>
<td>The principal name of the user who launches the service. Note that <code>_HOST</code> is required in the <code>principal_name</code> field such as <code>testuser/_HOST@EXAMPLE.COM</code> because Hadoop client validates that the server&#x2019;s (in this case, the AM&#x2019;s) principal has hostname present when communicating to the server.</td>
<td>false</td>
<td colspan="2">string</td></tr>
<tr class="a">
<td>keytab</td>
<td>The URI of the kerberos keytab. Currently supports only files present on the bare host. URI starts with &#x201c;<a class="externalLink" href="file://">file://</a>&#x201d; - A path on the local host where the keytab is stored. It is assumed that admin pre-installs the keytabs on the local host before AM launches.</td>
<td>false</td>
<td colspan="2">string</td></tr>
</tbody>
</table></section><section>
<h3><a name="PlacementConstraint"></a>PlacementConstraint</h3>
<p>Placement constraint details.</p>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th>Name</th>
<th>Description</th>
<th>Required</th>
<th>Schema</th>
<th>Default</th></tr>
</thead><tbody>

<tr class="b">
<td>name</td>
<td>An optional name associated to this constraint.</td>
<td>false</td>
<td colspan="2">string</td></tr>
<tr class="a">
<td>type</td>
<td>The type of placement.</td>
<td>true</td>
<td colspan="2">PlacementType</td></tr>
<tr class="b">
<td>scope</td>
<td>The scope of placement.</td>
<td>true</td>
<td colspan="2">PlacementScope</td></tr>
<tr class="a">
<td>target_tags</td>
<td>The name of the components that this component&#x2019;s placement policy is depending upon are added as target tags. So for affinity say, this component&#x2019;s containers are requesting to be placed on hosts where containers of the target tag component(s) are running on. Target tags can also contain the name of this component, in which case it implies that for anti-affinity say, no more than one container of this component can be placed on a host. Similarly, for cardinality, it would mean that containers of this component is requesting to be placed on hosts where at least minCardinality but no more than maxCardinality containers of the target tag component(s) are running.</td>
<td>false</td>
<td colspan="2">string array</td></tr>
<tr class="b">
<td>node_attributes</td>
<td>Node attributes are a set of key:value(s) pairs associated with nodes.</td>
<td>false</td>
<td colspan="2">object</td></tr>
<tr class="a">
<td>node_partitions</td>
<td>Node partitions where the containers of this component can run.</td>
<td>false</td>
<td colspan="2">string array</td></tr>
<tr class="b">
<td>min_cardinality</td>
<td>When placement type is cardinality, the minimum number of containers of the depending component that a host should have, where containers of this component can be allocated on.</td>
<td>false</td>
<td colspan="2">integer (int64)</td></tr>
<tr class="a">
<td>max_cardinality</td>
<td>When placement type is cardinality, the maximum number of containers of the depending component that a host should have, where containers of this component can be allocated on.</td>
<td>false</td>
<td colspan="2">integer (int64)</td></tr>
</tbody>
</table></section><section>
<h3><a name="PlacementPolicy"></a>PlacementPolicy</h3>
<p>Advanced placement policy of the components of a service.</p>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th>Name</th>
<th>Description</th>
<th>Required</th>
<th>Schema</th>
<th>Default</th></tr>
</thead><tbody>

<tr class="b">
<td>constraints</td>
<td>Placement constraint details.</td>
<td>true</td>
<td colspan="2">PlacementConstraint array</td></tr>
</tbody>
</table></section><section>
<h3><a name="PlacementScope"></a>PlacementScope</h3>
<p>The scope of placement for the containers of a component.</p>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th>Name</th>
<th>Description</th>
<th>Required</th>
<th>Schema</th>
<th>Default</th></tr>
</thead><tbody>

<tr class="b">
<td colspan="2">type</td>
<td>false</td>
<td colspan="2">enum (NODE, RACK)</td></tr>
</tbody>
</table></section><section>
<h3><a name="PlacementType"></a>PlacementType</h3>
<p>The type of placement - affinity/anti-affinity/affinity-with-cardinality with containers of another component or containers of the same component (self).</p>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th>Name</th>
<th>Description</th>
<th>Required</th>
<th>Schema</th>
<th>Default</th></tr>
</thead><tbody>

<tr class="b">
<td colspan="2">type</td>
<td>false</td>
<td colspan="2">enum (AFFINITY, ANTI_AFFINITY, AFFINITY_WITH_CARDINALITY)</td></tr>
</tbody>
</table></section><section>
<h3><a name="ReadinessCheck"></a>ReadinessCheck</h3>
<p>A check to be performed to determine the readiness of a component instance (a container). If no readiness check is specified, the default readiness check will be used unless the yarn.service.default-readiness-check.enabled configuration property is set to false at the component or global level. The artifact field is currently unsupported but may be implemented in the future, enabling a pluggable helper container to support advanced use cases.</p>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th>Name</th>
<th>Description</th>
<th>Required</th>
<th>Schema</th>
<th>Default</th></tr>
</thead><tbody>

<tr class="b">
<td>type</td>
<td>DEFAULT (AM checks whether the container has an IP and optionally performs a DNS lookup for the container hostname), HTTP (AM performs default checks, plus sends a REST call to the container and expects a response code between 200 and 299), or PORT (AM performs default checks, plus attempts to open a socket connection to the container on a specified port).</td>
<td>true</td>
<td colspan="2">enum (DEFAULT, HTTP, PORT)</td></tr>
<tr class="a">
<td>properties</td>
<td>A blob of key value pairs that will be used to configure the check.</td>
<td>false</td>
<td colspan="2">object</td></tr>
<tr class="b">
<td>artifact</td>
<td>Artifact of the pluggable readiness check helper container (optional). If specified, this helper container typically hosts the http uri and encapsulates the complex scripts required to perform actual container readiness check. At the end it is expected to respond a 204 No content just like the simplified use case. This pluggable framework benefits service owners who can run services without any packaging modifications. Note, artifacts of type docker only is supported for now. NOT IMPLEMENTED YET</td>
<td>false</td>
<td colspan="2">Artifact</td></tr>
</tbody>
</table></section><section>
<h3><a name="Resource"></a>Resource</h3>
<p>Resource determines the amount of resources (vcores, memory, network, etc.) usable by a container. This field determines the resource to be applied for all the containers of a component or service. The resource specified at the service (or global) level can be overriden at the component level. Only one of profile OR cpu &amp; memory are expected. It raises a validation exception otherwise.</p>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th>Name</th>
<th>Description</th>
<th>Required</th>
<th>Schema</th>
<th>Default</th></tr>
</thead><tbody>

<tr class="b">
<td>profile</td>
<td>Each resource profile has a unique id which is associated with a cluster-level predefined memory, cpus, etc.</td>
<td>false</td>
<td colspan="2">string</td></tr>
<tr class="a">
<td>cpus</td>
<td>Amount of vcores allocated to each container (optional but overrides cpus in profile if specified).</td>
<td>false</td>
<td colspan="2">integer (int32)</td></tr>
<tr class="b">
<td>memory</td>
<td>Amount of memory allocated to each container (optional but overrides memory in profile if specified). Currently accepts only an integer value and default unit is in MB.</td>
<td>false</td>
<td colspan="2">string</td></tr>
<tr class="a">
<td>additional</td>
<td>A map of resource type name to resource type information. Including value (integer), unit (string) and optional attributes (map). This will be used to specify resource other than cpu and memory. Please refer to example below.</td>
<td>false</td>
<td colspan="2">object</td></tr>
</tbody>
</table></section><section>
<h3><a name="ResourceInformation"></a>ResourceInformation</h3>
<p>ResourceInformation determines unit/value of resource types in addition to memory and vcores. It will be part of Resource object.</p>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th>Name</th>
<th>Description</th>
<th>Required</th>
<th>Schema</th>
<th>Default</th></tr>
</thead><tbody>

<tr class="b">
<td>value</td>
<td>Integer value of the resource.</td>
<td>false</td>
<td colspan="2">integer (int64)</td></tr>
<tr class="a">
<td>unit</td>
<td>Unit of the resource, acceptable values are - p/n/u/m/k/M/G/T/P/Ki/Mi/Gi/Ti/Pi. By default it is empty means no unit.</td>
<td>false</td>
<td colspan="2">string</td></tr>
</tbody>
</table></section><section>
<h3><a name="Service"></a>Service</h3>
<p>a service resource has the following attributes.</p>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th>Name</th>
<th>Description</th>
<th>Required</th>
<th>Schema</th>
<th>Default</th></tr>
</thead><tbody>

<tr class="b">
<td>name</td>
<td>A unique service name. If Registry DNS is enabled, the max length is 63 characters.</td>
<td>true</td>
<td colspan="2">string</td></tr>
<tr class="a">
<td>version</td>
<td>Version of the service.</td>
<td>true</td>
<td colspan="2">string</td></tr>
<tr class="b">
<td>description</td>
<td>Description of the service.</td>
<td>false</td>
<td colspan="2">string</td></tr>
<tr class="a">
<td>id</td>
<td>A unique service id.</td>
<td>false</td>
<td colspan="2">string</td></tr>
<tr class="b">
<td>artifact</td>
<td>The default artifact for all components of the service except the components which has Artifact type set to SERVICE (optional).</td>
<td>false</td>
<td colspan="2">Artifact</td></tr>
<tr class="a">
<td>resource</td>
<td>The default resource for all components of the service (optional).</td>
<td>false</td>
<td colspan="2">Resource</td></tr>
<tr class="b">
<td>launch_time</td>
<td>The time when the service was created, e.g. 2016-03-16T01:01:49.000Z.</td>
<td>false</td>
<td colspan="2">string (date)</td></tr>
<tr class="a">
<td>number_of_running_containers</td>
<td>In get response this provides the total number of running containers for this service (across all components) at the time of request. Note, a subsequent request can return a different number as and when more containers get allocated until it reaches the total number of containers or if a flex request has been made between the two requests.</td>
<td>false</td>
<td colspan="2">integer (int64)</td></tr>
<tr class="b">
<td>lifetime</td>
<td>Life time (in seconds) of the service from the time it reaches the STARTED state (after which it is automatically destroyed by YARN). For unlimited lifetime do not set a lifetime value.</td>
<td>false</td>
<td colspan="2">integer (int64)</td></tr>
<tr class="a">
<td>components</td>
<td>Components of a service.</td>
<td>false</td>
<td colspan="2">Component array</td></tr>
<tr class="b">
<td>configuration</td>
<td>Config properties of a service. Configurations provided at the service/global level are available to all the components. Specific properties can be overridden at the component level.</td>
<td>false</td>
<td colspan="2">Configuration</td></tr>
<tr class="a">
<td>state</td>
<td>State of the service. Specifying a value for this attribute for the PUT payload means update the service to this desired state.</td>
<td>false</td>
<td colspan="2">ServiceState</td></tr>
<tr class="b">
<td>quicklinks</td>
<td>A blob of key-value pairs of quicklinks to be exported for a service.</td>
<td>false</td>
<td colspan="2">object</td></tr>
<tr class="a">
<td>queue</td>
<td>The YARN queue that this service should be submitted to.</td>
<td>false</td>
<td colspan="2">string</td></tr>
<tr class="b">
<td>kerberos_principal</td>
<td>The principal info of the user who launches the service</td>
<td>false</td>
<td colspan="2">KerberosPrincipal</td></tr>
<tr class="a">
<td>docker_client_config</td>
<td>URI of the file containing the docker client configuration (e.g. <a class="externalLink" href="hdfs:///tmp/config.json">hdfs:///tmp/config.json</a>)</td>
<td>false</td>
<td colspan="2">string</td></tr>
<tr class="b">
<td>dependencies</td>
<td>A list of service names that this service depends on.</td>
<td> false </td>
<td colspan="2"> string array </td></tr>
</tbody>
</table></section><section>
<h3><a name="ServiceState"></a>ServiceState</h3>
<p>The current state of a service.</p>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th>Name</th>
<th>Description</th>
<th>Required</th>
<th>Schema</th>
<th>Default</th></tr>
</thead><tbody>

<tr class="b">
<td>state</td>
<td>enum of the state of the service</td>
<td>false</td>
<td colspan="2">enum (ACCEPTED, STARTED, STABLE, STOPPED, FAILED, FLEX, UPGRADING)</td></tr>
</tbody>
</table></section><section>
<h3><a name="ServiceStatus"></a>ServiceStatus</h3>
<p>The current status of a submitted service, returned as a response to the GET API.</p>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th>Name</th>
<th>Description</th>
<th>Required</th>
<th>Schema</th>
<th>Default</th></tr>
</thead><tbody>

<tr class="b">
<td>diagnostics</td>
<td>Diagnostic information (if any) for the reason of the current state of the service. It typically has a non-null value, if the service is in a non-running state.</td>
<td>false</td>
<td colspan="2">string</td></tr>
<tr class="a">
<td>state</td>
<td>Service state.</td>
<td>false</td>
<td colspan="2">ServiceState</td></tr>
<tr class="b">
<td>code</td>
<td>An error code specific to a scenario which service owners should be able to use to understand the failure in addition to the diagnostic information.</td>
<td>false</td>
<td colspan="2">integer (int32)</td></tr>
</tbody>
</table></section></section><section>
<h2><a name="Examples"></a>Examples</h2><section>
<h3><a name="Create_a_simple_single-component_service_with_most_attribute_values_as_defaults"></a>Create a simple single-component service with most attribute values as defaults</h3>

<div class="source">
<div class="source">
<pre>POST URL - http://localhost:8088/app/v1/services
</pre></div></div>
<section>
<h4><a name="POST_Request_JSON"></a>POST Request JSON</h4>

<div class="source">
<div class="source">
<pre>{
  &quot;name&quot;: &quot;hello-world&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;hello world example&quot;,
  &quot;components&quot; :
    [
      {
        &quot;name&quot;: &quot;hello&quot;,
        &quot;number_of_containers&quot;: 2,
        &quot;artifact&quot;: {
          &quot;id&quot;: &quot;nginx:latest&quot;,
          &quot;type&quot;: &quot;DOCKER&quot;
        },
        &quot;launch_command&quot;: &quot;./start_nginx.sh&quot;,
        &quot;resource&quot;: {
          &quot;cpus&quot;: 1,
          &quot;memory&quot;: &quot;256&quot;
        }
      }
    ]
}
</pre></div></div>
</section><section>
<h4><a name="GET_Response_JSON"></a>GET Response JSON</h4>

<div class="source">
<div class="source">
<pre>GET URL - http://localhost:8088/app/v1/services/hello-world
</pre></div></div>

<p>Note, lifetime value of -1 means unlimited lifetime.</p>

<div class="source">
<div class="source">
<pre>{
    &quot;name&quot;: &quot;hello-world&quot;,
    &quot;version&quot;: &quot;1.0.0&quot;,
    &quot;description&quot;: &quot;hello world example&quot;,
    &quot;id&quot;: &quot;application_1503963985568_0002&quot;,
    &quot;lifetime&quot;: -1,
    &quot;state&quot;: &quot;STABLE&quot;,
    &quot;components&quot;: [
        {
            &quot;name&quot;: &quot;hello&quot;,
            &quot;state&quot;: &quot;STABLE&quot;,
            &quot;resource&quot;: {
                &quot;cpus&quot;: 1,
                &quot;memory&quot;: &quot;256&quot;
            },
            &quot;configuration&quot;: {
                &quot;properties&quot;: {},
                &quot;env&quot;: {},
                &quot;files&quot;: []
            },
            &quot;quicklinks&quot;: [],
            &quot;containers&quot;: [
                {
                    &quot;id&quot;: &quot;container_e03_1503963985568_0002_01_000002&quot;,
                    &quot;ip&quot;: &quot;10.22.8.143&quot;,
                    &quot;hostname&quot;: &quot;ctr-e03-1503963985568-0002-01-000002.example.site&quot;,
                    &quot;state&quot;: &quot;READY&quot;,
                    &quot;launch_time&quot;: 1504051512412,
                    &quot;bare_host&quot;: &quot;host100.cloud.com&quot;,
                    &quot;component_instance_name&quot;: &quot;hello-0&quot;
                },
                {
                    &quot;id&quot;: &quot;container_e03_1503963985568_0002_01_000003&quot;,
                    &quot;ip&quot;: &quot;10.22.8.144&quot;,
                    &quot;hostname&quot;: &quot;ctr-e03-1503963985568-0002-01-000003.example.site&quot;,
                    &quot;state&quot;: &quot;READY&quot;,
                    &quot;launch_time&quot;: 1504051536450,
                    &quot;bare_host&quot;: &quot;host100.cloud.com&quot;,
                    &quot;component_instance_name&quot;: &quot;hello-1&quot;
                }
            ],
            &quot;launch_command&quot;: &quot;./start_nginx.sh&quot;,
            &quot;number_of_containers&quot;: 1,
            &quot;run_privileged_container&quot;: false
        }
    ],
    &quot;configuration&quot;: {
        &quot;properties&quot;: {},
        &quot;env&quot;: {},
        &quot;files&quot;: []
    },
    &quot;quicklinks&quot;: {}
}

</pre></div></div>
</section></section><section>
<h3><a name="Update_to_modify_the_lifetime_of_a_service"></a>Update to modify the lifetime of a service</h3>

<div class="source">
<div class="source">
<pre>PUT URL - http://localhost:8088/app/v1/services/hello-world
</pre></div></div>
<section>
<h4><a name="PUT_Request_JSON"></a>PUT Request JSON</h4>
<p>Note, irrespective of what the current lifetime value is, this update request will set the lifetime of the service to be 3600 seconds (1 hour) from the time the request is submitted. Hence, if a service has remaining lifetime of 5 mins (say) and would like to extend it to an hour OR if an application has remaining lifetime of 5 hours (say) and would like to reduce it down to an hour, then for both scenarios you need to submit the same request below.</p>

<div class="source">
<div class="source">
<pre>{
  &quot;lifetime&quot;: 3600
}
</pre></div></div>
</section></section><section>
<h3><a name="Stop_a_service"></a>Stop a service</h3>

<div class="source">
<div class="source">
<pre>PUT URL - http://localhost:8088/app/v1/services/hello-world
</pre></div></div>
<section>
<h4><a name="PUT_Request_JSON"></a>PUT Request JSON</h4>

<div class="source">
<div class="source">
<pre>{
  &quot;state&quot;: &quot;STOPPED&quot;
}
</pre></div></div>
</section></section><section>
<h3><a name="Start_a_service"></a>Start a service</h3>

<div class="source">
<div class="source">
<pre>PUT URL - http://localhost:8088/app/v1/services/hello-world
</pre></div></div>
<section>
<h4><a name="PUT_Request_JSON"></a>PUT Request JSON</h4>

<div class="source">
<div class="source">
<pre>{
  &quot;state&quot;: &quot;STARTED&quot;
}
</pre></div></div>
</section></section><section>
<h3><a name="Update_to_flex_up.2Fdown_the_number_of_containers_.28instances.29_of_a_component_of_a_service"></a>Update to flex up/down the number of containers (instances) of a component of a service</h3>

<div class="source">
<div class="source">
<pre>PUT URL - http://localhost:8088/app/v1/services/hello-world/components/hello
</pre></div></div>
<section>
<h4><a name="PUT_Request_JSON"></a>PUT Request JSON</h4>

<div class="source">
<div class="source">
<pre>{
  &quot;number_of_containers&quot;: 3
}
</pre></div></div>

<p>Alternatively, you can specify the entire &#x201c;components&#x201d; section instead.</p>

<div class="source">
<div class="source">
<pre>PUT URL - http://localhost:8088/app/v1/services/hello-world
</pre></div></div>
</section><section>
<h4><a name="PUT_Request_JSON"></a>PUT Request JSON</h4>

<div class="source">
<div class="source">
<pre>{
  &quot;state&quot;: &quot;FLEX&quot;,
  &quot;components&quot; :
    [
      {
        &quot;name&quot;: &quot;hello&quot;,
        &quot;number_of_containers&quot;: 3
      }
    ]
}
</pre></div></div>
</section></section><section>
<h3><a name="Destroy_a_service"></a>Destroy a service</h3>

<div class="source">
<div class="source">
<pre>DELETE URL - http://localhost:8088/app/v1/services/hello-world
</pre></div></div>
<hr /></section><section>
<h3><a name="Create_a_complicated_service__-_HBase"></a>Create a complicated service  - HBase</h3>

<div class="source">
<div class="source">
<pre>POST URL - http://localhost:8088:/app/v1/services/hbase-app-1
</pre></div></div>
<section>
<h4><a name="POST_Request_JSON"></a>POST Request JSON</h4>

<div class="source">
<div class="source">
<pre>{
  &quot;name&quot;: &quot;hbase-app-1&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;hbase service&quot;,
  &quot;lifetime&quot;: &quot;3600&quot;,
  &quot;components&quot;: [
    {
      &quot;name&quot;: &quot;hbasemaster&quot;,
      &quot;number_of_containers&quot;: 1,
      &quot;artifact&quot;: {
        &quot;id&quot;: &quot;hbase:latest&quot;,
        &quot;type&quot;: &quot;DOCKER&quot;
      },
      &quot;launch_command&quot;: &quot;/usr/hdp/current/hbase-master/bin/hbase master start&quot;,
      &quot;resource&quot;: {
        &quot;cpus&quot;: 1,
        &quot;memory&quot;: &quot;2048&quot;
      },
      &quot;configuration&quot;: {
        &quot;env&quot;: {
          &quot;HBASE_LOG_DIR&quot;: &quot;&lt;LOG_DIR&gt;&quot;
        },
        &quot;files&quot;: [
          {
            &quot;type&quot;: &quot;XML&quot;,
            &quot;dest_file&quot;: &quot;/etc/hadoop/conf/core-site.xml&quot;,
            &quot;properties&quot;: {
              &quot;fs.defaultFS&quot;: &quot;${CLUSTER_FS_URI}&quot;
            }
          },
          {
            &quot;type&quot;: &quot;XML&quot;,
            &quot;dest_file&quot;: &quot;/etc/hbase/conf/hbase-site.xml&quot;,
            &quot;properties&quot;: {
              &quot;hbase.cluster.distributed&quot;: &quot;true&quot;,
              &quot;hbase.zookeeper.quorum&quot;: &quot;${CLUSTER_ZK_QUORUM}&quot;,
              &quot;hbase.rootdir&quot;: &quot;${SERVICE_HDFS_DIR}/hbase&quot;,
              &quot;zookeeper.znode.parent&quot;: &quot;${SERVICE_ZK_PATH}&quot;,
              &quot;hbase.master.hostname&quot;: &quot;hbasemaster.${SERVICE_NAME}.${USER}.${DOMAIN}&quot;,
              &quot;hbase.master.info.port&quot;: &quot;16010&quot;
            }
          }
        ]
      }
    },
    {
      &quot;name&quot;: &quot;regionserver&quot;,
      &quot;number_of_containers&quot;: 3,
      &quot;artifact&quot;: {
        &quot;id&quot;: &quot;hbase:latest&quot;,
        &quot;type&quot;: &quot;DOCKER&quot;
      },
      &quot;launch_command&quot;: &quot;/usr/hdp/current/hbase-regionserver/bin/hbase regionserver start&quot;,
      &quot;resource&quot;: {
        &quot;cpus&quot;: 1,
        &quot;memory&quot;: &quot;2048&quot;
      },
      &quot;configuration&quot;: {
        &quot;env&quot;: {
          &quot;HBASE_LOG_DIR&quot;: &quot;&lt;LOG_DIR&gt;&quot;
        },
        &quot;files&quot;: [
          {
            &quot;type&quot;: &quot;XML&quot;,
            &quot;dest_file&quot;: &quot;/etc/hadoop/conf/core-site.xml&quot;,
            &quot;properties&quot;: {
              &quot;fs.defaultFS&quot;: &quot;${CLUSTER_FS_URI}&quot;
            }
          },
          {
            &quot;type&quot;: &quot;XML&quot;,
            &quot;dest_file&quot;: &quot;/etc/hbase/conf/hbase-site.xml&quot;,
            &quot;properties&quot;: {
              &quot;hbase.cluster.distributed&quot;: &quot;true&quot;,
              &quot;hbase.zookeeper.quorum&quot;: &quot;${CLUSTER_ZK_QUORUM}&quot;,
              &quot;hbase.rootdir&quot;: &quot;${SERVICE_HDFS_DIR}/hbase&quot;,
              &quot;zookeeper.znode.parent&quot;: &quot;${SERVICE_ZK_PATH}&quot;,
              &quot;hbase.master.hostname&quot;: &quot;hbasemaster.${SERVICE_NAME}.${USER}.${DOMAIN}&quot;,
              &quot;hbase.master.info.port&quot;: &quot;16010&quot;,
              &quot;hbase.regionserver.hostname&quot;: &quot;${COMPONENT_INSTANCE_NAME}.${SERVICE_NAME}.${USER}.${DOMAIN}&quot;
            }
          }
        ]
      }
    }
  ],
  &quot;quicklinks&quot;: {
    &quot;HBase Master Status UI&quot;: &quot;http://hbasemaster0.${SERVICE_NAME}.${USER}.${DOMAIN}:16010/master-status&quot;,
    &quot;Proxied HBase Master Status UI&quot;: &quot;http://app-proxy/${DOMAIN}/${USER}/${SERVICE_NAME}/hbasemaster/16010/&quot;
  }
}
</pre></div></div>
</section></section><section>
<h3><a name="Create_a_service_requesting_GPUs_in_addition_to_CPUs_and_RAM"></a>Create a service requesting GPUs in addition to CPUs and RAM</h3>

<div class="source">
<div class="source">
<pre>POST URL - http://localhost:8088/app/v1/services
</pre></div></div>
<section>
<h4><a name="POST_Request_JSON"></a>POST Request JSON</h4>

<div class="source">
<div class="source">
<pre>{
  &quot;name&quot;: &quot;hello-world&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;hello world example with GPUs&quot;,
  &quot;components&quot; :
    [
      {
        &quot;name&quot;: &quot;hello&quot;,
        &quot;number_of_containers&quot;: 2,
        &quot;artifact&quot;: {
          &quot;id&quot;: &quot;nginx:latest&quot;,
          &quot;type&quot;: &quot;DOCKER&quot;
        },
        &quot;launch_command&quot;: &quot;./start_nginx.sh&quot;,
        &quot;resource&quot;: {
          &quot;cpus&quot;: 1,
          &quot;memory&quot;: &quot;256&quot;,
          &quot;additional&quot; : {
            &quot;yarn.io/gpu&quot; : {
              &quot;value&quot; : 4,
              &quot;unit&quot; : &quot;&quot;
            }
          }
        }
      }
    ]
}
</pre></div></div>
</section></section><section>
<h3><a name="Create_a_service_with_a_component_requesting_anti-affinity_placement_policy"></a>Create a service with a component requesting anti-affinity placement policy</h3>

<div class="source">
<div class="source">
<pre>POST URL - http://localhost:8088/app/v1/services
</pre></div></div>
<section>
<h4><a name="POST_Request_JSON"></a>POST Request JSON</h4>

<div class="source">
<div class="source">
<pre>{
  &quot;name&quot;: &quot;hello-world&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;hello world example with anti-affinity&quot;,
  &quot;components&quot; :
    [
      {
        &quot;name&quot;: &quot;hello&quot;,
        &quot;number_of_containers&quot;: 3,
        &quot;artifact&quot;: {
          &quot;id&quot;: &quot;nginx:latest&quot;,
          &quot;type&quot;: &quot;DOCKER&quot;
        },
        &quot;launch_command&quot;: &quot;./start_nginx.sh&quot;,
        &quot;resource&quot;: {
          &quot;cpus&quot;: 1,
          &quot;memory&quot;: &quot;256&quot;
        },
        &quot;placement_policy&quot;: {
          &quot;constraints&quot;: [
            {
              &quot;type&quot;: &quot;ANTI_AFFINITY&quot;,
              &quot;scope&quot;: &quot;NODE&quot;,
              &quot;node_attributes&quot;: {
                &quot;os&quot;: [&quot;centos6&quot;, &quot;centos7&quot;],
                &quot;fault_domain&quot;: [&quot;fd1&quot;, &quot;fd2&quot;]
              },
              &quot;node_partitions&quot;: [
                &quot;gpu&quot;,
                &quot;fast-disk&quot;
              ]
            }
          ]
        }
      }
    ]
}
</pre></div></div>
</section><section>
<h4><a name="GET_Response_JSON"></a>GET Response JSON</h4>

<div class="source">
<div class="source">
<pre>GET URL - http://localhost:8088/app/v1/services/hello-world
</pre></div></div>

<p>Note, for an anti-affinity component no more than 1 container will be allocated in a specific node. In this example, 3 containers have been requested by component &#x201c;hello&#x201d;. All 3 containers were allocated on separated centos7 nodes because the node attributes expects to run on centos7 nodes. If the cluster had less than 3 NMs then less than 3 containers would be allocated. In cases when the number of allocated containers are less than the number of requested containers, the component and the service will be in non-STABLE state.</p>

<div class="source">
<div class="source">
<pre>{
    &quot;name&quot;: &quot;hello-world&quot;,
    &quot;version&quot;: &quot;1.0.0&quot;,
    &quot;description&quot;: &quot;hello world example with anti-affinity&quot;,
    &quot;id&quot;: &quot;application_1503963985568_0003&quot;,
    &quot;lifetime&quot;: -1,
    &quot;state&quot;: &quot;STABLE&quot;,
    &quot;components&quot;: [
        {
            &quot;name&quot;: &quot;hello&quot;,
            &quot;state&quot;: &quot;STABLE&quot;,
            &quot;resource&quot;: {
                &quot;cpus&quot;: 1,
                &quot;memory&quot;: &quot;256&quot;
            },
            &quot;placement_policy&quot;: {
              &quot;constraints&quot;: [
                {
                  &quot;type&quot;: &quot;AFFINITY&quot;,
                  &quot;scope&quot;: &quot;NODE&quot;,
                  &quot;node_attributes&quot;: {
                    &quot;os&quot;: [&quot;centos7&quot;]
                  },
                  &quot;node_partitions&quot;: [
                    &quot;gpu&quot;,
                    &quot;fast-disk&quot;
                  ]
                },
                {
                  &quot;type&quot;: &quot;ANTI_AFFINITY&quot;,
                  &quot;scope&quot;: &quot;NODE&quot;,
                  &quot;target_tags&quot;: [
                    &quot;hello&quot;
                  ]
                }
              ]
            },
            &quot;configuration&quot;: {
                &quot;properties&quot;: {},
                &quot;env&quot;: {},
                &quot;files&quot;: []
            },
            &quot;quicklinks&quot;: [],
            &quot;containers&quot;: [
                {
                    &quot;id&quot;: &quot;container_e03_1503963985568_0003_01_000002&quot;,
                    &quot;ip&quot;: &quot;10.22.8.143&quot;,
                    &quot;hostname&quot;: &quot;ctr-e03-1503963985568-0003-01-000002.example.site&quot;,
                    &quot;state&quot;: &quot;READY&quot;,
                    &quot;launch_time&quot;: 1504051512412,
                    &quot;bare_host&quot;: &quot;host100.cloud.com&quot;,
                    &quot;component_instance_name&quot;: &quot;hello-0&quot;
                },
                {
                    &quot;id&quot;: &quot;container_e03_1503963985568_0003_01_000003&quot;,
                    &quot;ip&quot;: &quot;10.22.8.144&quot;,
                    &quot;hostname&quot;: &quot;ctr-e03-1503963985568-0003-01-000003.example.site&quot;,
                    &quot;state&quot;: &quot;READY&quot;,
                    &quot;launch_time&quot;: 1504051536450,
                    &quot;bare_host&quot;: &quot;host101.cloud.com&quot;,
                    &quot;component_instance_name&quot;: &quot;hello-1&quot;
                },
                {
                    &quot;id&quot;: &quot;container_e03_1503963985568_0003_01_000004&quot;,
                    &quot;ip&quot;: &quot;10.22.8.145&quot;,
                    &quot;hostname&quot;: &quot;ctr-e03-1503963985568-0003-01-000004.example.site&quot;,
                    &quot;state&quot;: &quot;READY&quot;,
                    &quot;launch_time&quot;: 1504051536450,
                    &quot;bare_host&quot;: &quot;host102.cloud.com&quot;,
                    &quot;component_instance_name&quot;: &quot;hello-2&quot;
                }
            ],
            &quot;launch_command&quot;: &quot;./start_nginx.sh&quot;,
            &quot;number_of_containers&quot;: 1,
            &quot;run_privileged_container&quot;: false
        }
    ],
    &quot;configuration&quot;: {
        &quot;properties&quot;: {},
        &quot;env&quot;: {},
        &quot;files&quot;: []
    },
    &quot;quicklinks&quot;: {}
}
</pre></div></div>
</section></section><section>
<h3><a name="Create_a_service_with_health_threshold_monitor_enabled_for_a_component"></a>Create a service with health threshold monitor enabled for a component</h3>

<div class="source">
<div class="source">
<pre>POST URL - http://localhost:8088/app/v1/services
</pre></div></div>
<section>
<h4><a name="POST_Request_JSON"></a>POST Request JSON</h4>

<div class="source">
<div class="source">
<pre>{
  &quot;name&quot;: &quot;hello-world&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;hello world example with health threshold monitor&quot;,
  &quot;components&quot; :
    [
      {
        &quot;name&quot;: &quot;hello&quot;,
        &quot;number_of_containers&quot;: 100,
        &quot;artifact&quot;: {
          &quot;id&quot;: &quot;nginx:latest&quot;,
          &quot;type&quot;: &quot;DOCKER&quot;
        },
        &quot;launch_command&quot;: &quot;./start_nginx.sh&quot;,
        &quot;resource&quot;: {
          &quot;cpus&quot;: 1,
          &quot;memory&quot;: &quot;256&quot;
        },
        &quot;configuration&quot;: {
          &quot;properties&quot;: {
            &quot;yarn.service.container-health-threshold.percent&quot;: &quot;90&quot;,
            &quot;yarn.service.container-health-threshold.window-secs&quot;: &quot;400&quot;,
            &quot;yarn.service.container-health-threshold.init-delay-secs&quot;: &quot;800&quot;
          }
        }
      }
    ]
}
</pre></div></div></section></section></section>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
        &#169;            2008-2024
              Apache Software Foundation
            
                          - <a href="http://maven.apache.org/privacy-policy.html">Privacy Policy</a>.
        Apache Maven, Maven, Apache, the Apache feather logo, and the Apache Maven project logos are trademarks of The Apache Software Foundation.
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
