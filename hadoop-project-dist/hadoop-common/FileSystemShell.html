<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--
 | Generated by Apache Maven Doxia at 2024-10-22
 | Rendered using Apache Maven Stylus Skin 1.5
-->
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Apache Hadoop 3.5.0-SNAPSHOT &#x2013; Overview</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
        <meta name="Date-Revision-yyyymmdd" content="20241022" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
                </head>
  <body class="composite">
    <div id="banner">
                        <a href="http://hadoop.apache.org/" id="bannerLeft">
                                        <img src="http://hadoop.apache.org/images/hadoop-logo.jpg" alt="" />
                </a>
                              <a href="http://www.apache.org/" id="bannerRight">
                                        <img src="http://www.apache.org/images/asf_logo_wide.png" alt="" />
                </a>
            <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                                     <div class="xright">            <a href="http://wiki.apache.org/hadoop" class="externalLink">Wiki</a>
            |
                <a href="https://gitbox.apache.org/repos/asf/hadoop.git" class="externalLink">git</a>
            |
                <a href="http://hadoop.apache.org/" class="externalLink">Apache Hadoop</a>
              
                                   &nbsp;| Last Published: 2024-10-22
              &nbsp;| Version: 3.5.0-SNAPSHOT
            </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                                                   <h5>General</h5>
                  <ul>
                  <li class="none">
                  <a href="../../index.html">Overview</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/SingleCluster.html">Single Node Setup</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/ClusterSetup.html">Cluster Setup</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/CommandsManual.html">Commands Reference</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/FileSystemShell.html">FileSystem Shell</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/Compatibility.html">Compatibility Specification</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/DownstreamDev.html">Downstream Developer's Guide</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/AdminCompatibilityGuide.html">Admin Compatibility Guide</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/InterfaceClassification.html">Interface Classification</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/filesystem/index.html">FileSystem Specification</a>
            </li>
          </ul>
                       <h5>Common</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/CLIMiniCluster.html">CLI Mini Cluster</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/FairCallQueue.html">Fair Call Queue</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/NativeLibraries.html">Native Libraries</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/Superusers.html">Proxy User</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/RackAwareness.html">Rack Awareness</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/SecureMode.html">Secure Mode</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/ServiceLevelAuth.html">Service Level Authorization</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/HttpAuthentication.html">HTTP Authentication</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/CredentialProviderAPI.html">Credential Provider API</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-kms/index.html">Hadoop KMS</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/Tracing.html">Tracing</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/UnixShellGuide.html">Unix Shell Guide</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/registry/index.html">Registry</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/AsyncProfilerServlet.html">Async Profiler</a>
            </li>
          </ul>
                       <h5>HDFS</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsDesign.html">Architecture</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsUserGuide.html">User Guide</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HDFSCommands.html">Commands Reference</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HDFSHighAvailabilityWithQJM.html">NameNode HA With QJM</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HDFSHighAvailabilityWithNFS.html">NameNode HA With NFS</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/ObserverNameNode.html">Observer NameNode</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/Federation.html">Federation</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/ViewFs.html">ViewFs</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/ViewFsOverloadScheme.html">ViewFsOverloadScheme</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsSnapshots.html">Snapshots</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsEditsViewer.html">Edits Viewer</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsImageViewer.html">Image Viewer</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsPermissionsGuide.html">Permissions and HDFS</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsQuotaAdminGuide.html">Quotas and HDFS</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/LibHdfs.html">libhdfs (C API)</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/WebHDFS.html">WebHDFS (REST API)</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-hdfs-httpfs/index.html">HttpFS</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/ShortCircuitLocalReads.html">Short Circuit Local Reads</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/CentralizedCacheManagement.html">Centralized Cache Management</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsNfsGateway.html">NFS Gateway</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsRollingUpgrade.html">Rolling Upgrade</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/ExtendedAttributes.html">Extended Attributes</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/TransparentEncryption.html">Transparent Encryption</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsMultihoming.html">Multihoming</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/ArchivalStorage.html">Storage Policies</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/MemoryStorage.html">Memory Storage Support</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/SLGUserGuide.html">Synthetic Load Generator</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HDFSErasureCoding.html">Erasure Coding</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HDFSDiskbalancer.html">Disk Balancer</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsUpgradeDomain.html">Upgrade Domain</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsDataNodeAdminGuide.html">DataNode Admin</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs-rbf/HDFSRouterFederation.html">Router Federation</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/HdfsProvidedStorage.html">Provided Storage</a>
            </li>
          </ul>
                       <h5>MapReduce</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/MapReduceTutorial.html">Tutorial</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/MapredCommands.html">Commands Reference</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/MapReduce_Compatibility_Hadoop1_Hadoop2.html">Compatibility with 1.x</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/EncryptedShuffle.html">Encrypted Shuffle</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/PluggableShuffleAndPluggableSort.html">Pluggable Shuffle/Sort</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/DistributedCacheDeploy.html">Distributed Cache Deploy</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/SharedCacheSupport.html">Support for YARN Shared Cache</a>
            </li>
          </ul>
                       <h5>MapReduce REST APIs</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/MapredAppMasterRest.html">MR Application Master</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-hs/HistoryServerRest.html">MR History Server</a>
            </li>
          </ul>
                       <h5>YARN</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/YARN.html">Architecture</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/YarnCommands.html">Commands Reference</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/CapacityScheduler.html">Capacity Scheduler</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/FairScheduler.html">Fair Scheduler</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/ResourceManagerRestart.html">ResourceManager Restart</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/ResourceManagerHA.html">ResourceManager HA</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/ResourceModel.html">Resource Model</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/NodeLabel.html">Node Labels</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/NodeAttributes.html">Node Attributes</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/WebApplicationProxy.html">Web Application Proxy</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/TimelineServer.html">Timeline Server</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/TimelineServiceV2.html">Timeline Service V.2</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/WritingYarnApplications.html">Writing YARN Applications</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/YarnApplicationSecurity.html">YARN Application Security</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/NodeManager.html">NodeManager</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/DockerContainers.html">Running Applications in Docker Containers</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/RuncContainers.html">Running Applications in runC Containers</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/NodeManagerCgroups.html">Using CGroups</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/SecureContainer.html">Secure Containers</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/ReservationSystem.html">Reservation System</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/GracefulDecommission.html">Graceful Decommission</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/OpportunisticContainers.html">Opportunistic Containers</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/Federation.html">YARN Federation</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/SharedCache.html">Shared Cache</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/UsingGpus.html">Using GPU</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/UsingFPGA.html">Using FPGA</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/PlacementConstraints.html">Placement Constraints</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/YarnUI2.html">YARN UI2</a>
            </li>
          </ul>
                       <h5>YARN REST APIs</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/WebServicesIntro.html">Introduction</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/ResourceManagerRest.html">Resource Manager</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/NodeManagerRest.html">Node Manager</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/TimelineServer.html#Timeline_Server_REST_API_v1">Timeline Server</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/TimelineServiceV2.html#Timeline_Service_v.2_REST_API">Timeline Service V.2</a>
            </li>
          </ul>
                       <h5>YARN Service</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/yarn-service/Overview.html">Overview</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/yarn-service/QuickStart.html">QuickStart</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/yarn-service/Concepts.html">Concepts</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/yarn-service/YarnServiceAPI.html">Yarn Service API</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/yarn-service/ServiceDiscovery.html">Service Discovery</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-site/yarn-service/SystemServices.html">System Services</a>
            </li>
          </ul>
                       <h5>Hadoop Compatible File Systems</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-aliyun/tools/hadoop-aliyun/index.html">Aliyun OSS</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-aws/tools/hadoop-aws/index.html">Amazon S3</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-azure/index.html">Azure Blob Storage</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-azure-datalake/index.html">Azure Data Lake Storage</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-cos/cloud-storage/index.html">Tencent COS</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-huaweicloud/cloud-storage/index.html">Huaweicloud OBS</a>
            </li>
          </ul>
                       <h5>Auth</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-auth/index.html">Overview</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-auth/Examples.html">Examples</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-auth/Configuration.html">Configuration</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-auth/BuildingIt.html">Building</a>
            </li>
          </ul>
                       <h5>Tools</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-streaming/HadoopStreaming.html">Hadoop Streaming</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-archives/HadoopArchives.html">Hadoop Archives</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-archive-logs/HadoopArchiveLogs.html">Hadoop Archive Logs</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-distcp/DistCp.html">DistCp</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-federation-balance/HDFSFederationBalance.html">HDFS Federation Balance</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-gridmix/GridMix.html">GridMix</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-rumen/Rumen.html">Rumen</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-resourceestimator/ResourceEstimator.html">Resource Estimator Service</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-sls/SchedulerLoadSimulator.html">Scheduler Load Simulator</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/Benchmarking.html">Hadoop Benchmarking</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-dynamometer/Dynamometer.html">Dynamometer</a>
            </li>
          </ul>
                       <h5>Reference</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/release/">Changelog and Release Notes</a>
            </li>
                  <li class="none">
                  <a href="../../api/index.html">Java API docs</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/UnixShellAPI.html">Unix Shell API</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/Metrics.html">Metrics</a>
            </li>
          </ul>
                       <h5>Configuration</h5>
                  <ul>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/core-default.xml">core-default.xml</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs/hdfs-default.xml">hdfs-default.xml</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-hdfs-rbf/hdfs-rbf-default.xml">hdfs-rbf-default.xml</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-mapreduce-client/hadoop-mapreduce-client-core/mapred-default.xml">mapred-default.xml</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-yarn/hadoop-yarn-common/yarn-default.xml">yarn-default.xml</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-kms/kms-default.html">kms-default.xml</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-hdfs-httpfs/httpfs-default.html">httpfs-default.xml</a>
            </li>
                  <li class="none">
                  <a href="../../hadoop-project-dist/hadoop-common/DeprecatedProperties.html">Deprecated Properties</a>
            </li>
          </ul>
                                 <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
          <img alt="Built by Maven" src="./images/logos/maven-feather.png"/>
        </a>
                       
                               </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <!---
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License. See accompanying LICENSE file.
-->
<ul>
<li><a href="#appendToFile">appendToFile</a></li>
<li><a href="#cat">cat</a></li>
<li><a href="#checksum">checksum</a></li>
<li><a href="#chgrp">chgrp</a></li>
<li><a href="#chmod">chmod</a></li>
<li><a href="#chown">chown</a></li>
<li><a href="#copyFromLocal">copyFromLocal</a></li>
<li><a href="#copyToLocal">copyToLocal</a></li>
<li><a href="#count">count</a></li>
<li><a href="#cp">cp</a></li>
<li><a href="#createSnapshot">createSnapshot</a></li>
<li><a href="#deleteSnapshot">deleteSnapshot</a></li>
<li><a href="#df">df</a></li>
<li><a href="#du">du</a></li>
<li><a href="#dus">dus</a></li>
<li><a href="#expunge">expunge</a></li>
<li><a href="#find">find</a></li>
<li><a href="#get">get</a></li>
<li><a href="#getfacl">getfacl</a></li>
<li><a href="#getfattr">getfattr</a></li>
<li><a href="#getmerge">getmerge</a></li>
<li><a href="#head">head</a></li>
<li><a href="#help">help</a></li>
<li><a href="#ls">ls</a></li>
<li><a href="#lsr">lsr</a></li>
<li><a href="#mkdir">mkdir</a></li>
<li><a href="#moveFromLocal">moveFromLocal</a></li>
<li><a href="#moveToLocal">moveToLocal</a></li>
<li><a href="#mv">mv</a></li>
<li><a href="#put">put</a></li>
<li><a href="#renameSnapshot">renameSnapshot</a></li>
<li><a href="#rm">rm</a></li>
<li><a href="#rmdir">rmdir</a></li>
<li><a href="#rmr">rmr</a></li>
<li><a href="#setfacl">setfacl</a></li>
<li><a href="#setfattr">setfattr</a></li>
<li><a href="#setrep">setrep</a></li>
<li><a href="#stat">stat</a></li>
<li><a href="#tail">tail</a></li>
<li><a href="#test">test</a></li>
<li><a href="#text">text</a></li>
<li><a href="#touch">touch</a></li>
<li><a href="#touchz">touchz</a></li>
<li><a href="#truncate">truncate</a></li>
<li><a href="#concat">concat</a></li>
<li><a href="#usage">usage</a></li>
<li><a href="#Deleting_objects">Deleting objects</a></li>
<li><a href="#Overwriting_Objects">Overwriting Objects</a></li>
<li><a href="#Timestamps">Timestamps</a></li>
<li><a href="#Security_model_and_operations">Security model and operations</a></li>
<li><a href="#Commands_of_limited_value">Commands of limited value</a></li></ul>

<h1>Overview</h1>
<p>The File System (FS) shell includes various shell-like commands that directly interact with the Hadoop Distributed File System (HDFS) as well as other file systems that Hadoop supports, such as Local FS, WebHDFS, S3 FS, and others. The FS shell is invoked by:</p>

<div class="source">
<div class="source">
<pre>bin/hadoop fs &lt;args&gt;
</pre></div></div>

<p>All FS shell commands take path URIs as arguments. The URI format is <code>scheme://authority/path</code>. For HDFS the scheme is <code>hdfs</code>, and for the Local FS the scheme is <code>file</code>. The scheme and authority are optional. If not specified, the default scheme specified in the configuration is used. An HDFS file or directory such as /parent/child can be specified as <code>hdfs://namenodehost/parent/child</code> or simply as <code>/parent/child</code> (given that your configuration is set to point to <code>hdfs://namenodehost</code>).</p>
<p>Most of the commands in FS shell behave like corresponding Unix commands. Differences are described with each of the commands. Error information is sent to stderr and the output is sent to stdout.</p>
<p>If HDFS is being used, <code>hdfs dfs</code> is a synonym.</p>
<p>Relative paths can be used. For HDFS, the current working directory is the HDFS home directory <code>/user/&lt;username&gt;</code> that often has to be created manually. The HDFS home directory can also be implicitly accessed, e.g., when using the HDFS trash folder, the <code>.Trash</code> directory in the home directory.</p>
<p>See the <a href="./CommandsManual.html">Commands Manual</a> for generic shell options.</p><section>
<h2><a name="appendToFile"></a>appendToFile</h2>
<p>Usage: <code>hadoop fs -appendToFile &lt;localsrc&gt; ... &lt;dst&gt;</code></p>
<p>Append single src, or multiple srcs from local file system to the destination file system. Also reads input from stdin and appends to destination file system.</p>
<ul>

<li><code>hadoop fs -appendToFile localfile /user/hadoop/hadoopfile</code></li>
<li><code>hadoop fs -appendToFile localfile1 localfile2 /user/hadoop/hadoopfile</code></li>
<li><code>hadoop fs -appendToFile localfile hdfs://nn.example.com/hadoop/hadoopfile</code></li>
<li><code>hadoop fs -appendToFile - hdfs://nn.example.com/hadoop/hadoopfile</code> Reads the input from stdin.</li>
</ul>
<p>Exit Code:</p>
<p>Returns 0 on success and 1 on error.</p></section><section>
<h2><a name="cat"></a>cat</h2>
<p>Usage: <code>hadoop fs -cat [-ignoreCrc] URI [URI ...]</code></p>
<p>Copies source paths to stdout.</p>
<p>Options</p>
<ul>

<li>The <code>-ignoreCrc</code> option disables checksum verification.</li>
</ul>
<p>Example:</p>
<ul>

<li><code>hadoop fs -cat hdfs://nn1.example.com/file1 hdfs://nn2.example.com/file2</code></li>
<li><code>hadoop fs -cat file:///file3 /user/hadoop/file4</code></li>
</ul>
<p>Exit Code:</p>
<p>Returns 0 on success and -1 on error.</p></section><section>
<h2><a name="checksum"></a>checksum</h2>
<p>Usage: <code>hadoop fs -checksum [-v] URI [URI ...]</code></p>
<p>Returns the checksum information of the file(s).</p>
<p>Options</p>
<ul>

<li>The <code>-v</code> option displays blocks size for the file(s).</li>
</ul>
<p>Example:</p>
<ul>

<li><code>hadoop fs -checksum hdfs://nn1.example.com/file1</code></li>
<li><code>hadoop fs -checksum file:///etc/hosts</code></li>
<li><code>hadoop fs -checksum file:///etc/hosts hdfs://nn1.example.com/file1</code></li>
</ul></section><section>
<h2><a name="chgrp"></a>chgrp</h2>
<p>Usage: <code>hadoop fs -chgrp [-R] GROUP URI [URI ...]</code></p>
<p>Change group association of files. The user must be the owner of files, or else a super-user. Additional information is in the <a href="../hadoop-hdfs/HdfsPermissionsGuide.html">Permissions Guide</a>.</p>
<p>Options</p>
<ul>

<li>The -R option will make the change recursively through the directory structure.</li>
</ul></section><section>
<h2><a name="chmod"></a>chmod</h2>
<p>Usage: <code>hadoop fs -chmod [-R] &lt;MODE[,MODE]... | OCTALMODE&gt; URI [URI ...]</code></p>
<p>Change the permissions of files. With -R, make the change recursively through the directory structure. The user must be the owner of the file, or else a super-user. Additional information is in the <a href="../hadoop-hdfs/HdfsPermissionsGuide.html">Permissions Guide</a>.</p>
<p>Options</p>
<ul>

<li>The -R option will make the change recursively through the directory structure.</li>
</ul></section><section>
<h2><a name="chown"></a>chown</h2>
<p>Usage: <code>hadoop fs -chown [-R] [OWNER][:[GROUP]] URI [URI ]</code></p>
<p>Change the owner of files. The user must be a super-user. Additional information is in the <a href="../hadoop-hdfs/HdfsPermissionsGuide.html">Permissions Guide</a>.</p>
<p>Options</p>
<ul>

<li>The -R option will make the change recursively through the directory structure.</li>
</ul></section><section>
<h2><a name="copyFromLocal"></a>copyFromLocal</h2>
<p>Identical to the -put command.</p></section><section>
<h2><a name="copyToLocal"></a>copyToLocal</h2>
<p>Identical to the -get command.</p></section><section>
<h2><a name="count"></a>count</h2>
<p>Usage: <code>hadoop fs -count [-q] [-h] [-v] [-x] [-t [&lt;storage type&gt;]] [-u] [-e] [-s] &lt;paths&gt;</code></p>
<p>Count the number of directories, files and bytes under the paths that match the specified file pattern. Get the quota and the usage. The output columns with -count are: DIR_COUNT, FILE_COUNT, CONTENT_SIZE, PATHNAME</p>
<p>The -u and -q options control what columns the output contains.  -q means show quotas and usage, -u limits the output to show quotas only.</p>
<p>The output columns with -count -q are: QUOTA, REMAINING_QUOTA, SPACE_QUOTA, REMAINING_SPACE_QUOTA, DIR_COUNT, FILE_COUNT, CONTENT_SIZE, PATHNAME</p>
<p>The output columns with -count -u are: QUOTA, REMAINING_QUOTA, SPACE_QUOTA, REMAINING_SPACE_QUOTA, PATHNAME</p>
<p>The -t option shows the quota and usage for each storage type. The -t option is ignored if -u or -q option is not given. The list of possible parameters that can be used in -t option(case insensitive except the parameter): &quot;&quot;, &#x201c;all&#x201d;, &#x201c;ram_disk&#x201d;, &#x201c;ssd&#x201d;, &#x201c;disk&#x201d; or &#x201c;archive&#x201d;.</p>
<p>The -h option shows sizes in human readable format.</p>
<p>The -v option displays a header line.</p>
<p>The -x option excludes snapshots from the result calculation. Without the -x option (default), the result is always calculated from all INodes, including all snapshots under the given path. The -x option is ignored if -u or -q option is given.</p>
<p>The -e option shows the erasure coding policy for each file.</p>
<p>The output columns with -count -e are: DIR_COUNT, FILE_COUNT, CONTENT_SIZE, ERASURECODING_POLICY, PATHNAME</p>
<p>The ERASURECODING_POLICY is name of the policy for the file. If an erasure coding policy is set on that file, it will return the name of the policy. Otherwise, it will return &quot;Replicated&quot; which means it uses the replication storage strategy.</p>
<p>The -s option shows the snapshot counts for each directory.</p>
<p>Example:</p>
<ul>

<li><code>hadoop fs -count hdfs://nn1.example.com/file1 hdfs://nn2.example.com/file2</code></li>
<li><code>hadoop fs -count -q hdfs://nn1.example.com/file1</code></li>
<li><code>hadoop fs -count -q -h hdfs://nn1.example.com/file1</code></li>
<li><code>hadoop fs -count -q -h -v hdfs://nn1.example.com/file1</code></li>
<li><code>hadoop fs -count -u hdfs://nn1.example.com/file1</code></li>
<li><code>hadoop fs -count -u -h hdfs://nn1.example.com/file1</code></li>
<li><code>hadoop fs -count -u -h -v hdfs://nn1.example.com/file1</code></li>
<li><code>hadoop fs -count -e hdfs://nn1.example.com/file1</code></li>
<li><code>hadoop fs -count -s hdfs://nn1.example.com/file1</code></li>
</ul>
<p>Exit Code:</p>
<p>Returns 0 on success and -1 on error.</p></section><section>
<h2><a name="cp"></a>cp</h2>
<p>Usage: <code>hadoop fs -cp [-f] [-p | -p[topax]] [-d] [-t &lt;thread count&gt;] [-q &lt;thread pool queue size&gt;] URI [URI ...] &lt;dest&gt;</code></p>
<p>Copy files from source to destination. This command allows multiple sources as well in which case the destination must be a directory.</p>
<p>&#x2018;raw.*&#x2019; namespace extended attributes are preserved if (1) the source and destination filesystems support them (HDFS only), and (2) all source and destination pathnames are in the /.reserved/raw hierarchy. Determination of whether raw.* namespace xattrs are preserved is independent of the -p (preserve) flag.</p>
<p>Options:</p>
<ul>

<li><code>-f</code> : Overwrite the destination if it already exists.</li>
<li><code>-d</code> : Skip creation of temporary file with the suffix <code>._COPYING_</code>.</li>
<li><code>-p</code> : Preserve file attributes [topax](timestamps, ownership, permission, ACL, XAttr). If -p is specified with no <i>arg</i>, then preserves timestamps, ownership, permission. If -pa is specified, then preserves permission also because ACL is a super-set of permission. Determination of whether raw namespace extended attributes are preserved is independent of the -p flag.</li>
<li><code>-t &lt;thread count&gt;</code> : Number of threads to be used, default is 1. Useful when copying directories containing more than 1 file.</li>
<li><code>-q &lt;thread pool queue size&gt;</code> : Thread pool queue size to be used, default is 1024. It takes effect only when thread count greater than 1.</li>
</ul>
<p>Example:</p>
<ul>

<li><code>hadoop fs -cp /user/hadoop/file1 /user/hadoop/file2</code></li>
<li><code>hadoop fs -cp -f -d /user/hadoop/file1 /user/hadoop/file2</code></li>
<li><code>hadoop fs -cp /user/hadoop/file1 /user/hadoop/file2 /user/hadoop/dir</code></li>
<li><code>hadoop fs -cp -t 5 /user/hadoop/file1 /user/hadoop/file2 /user/hadoop/dir</code></li>
<li><code>hadoop fs -cp -t 10 -q 2048 /user/hadoop/file1 /user/hadoop/file2 /user/hadoop/dir</code></li>
</ul>
<p>Exit Code:</p>
<p>Returns 0 on success and -1 on error.</p></section><section>
<h2><a name="createSnapshot"></a>createSnapshot</h2>
<p>See <a href="../hadoop-hdfs/HdfsSnapshots.html">HDFS Snapshots Guide</a>.</p></section><section>
<h2><a name="deleteSnapshot"></a>deleteSnapshot</h2>
<p>See <a href="../hadoop-hdfs/HdfsSnapshots.html">HDFS Snapshots Guide</a>.</p></section><section>
<h2><a name="df"></a>df</h2>
<p>Usage: <code>hadoop fs -df [-h] URI [URI ...]</code></p>
<p>Displays free space.</p>
<p>Options:</p>
<ul>

<li>The -h option will format file sizes in a &#x201c;human-readable&#x201d; fashion (e.g 64.0m instead of 67108864)</li>
</ul>
<p>Example:</p>
<ul>

<li><code>hadoop dfs -df /user/hadoop/dir1</code></li>
</ul></section><section>
<h2><a name="du"></a>du</h2>
<p>Usage: <code>hadoop fs -du [-s] [-h] [-v] [-x] URI [URI ...]</code></p>
<p>Displays sizes of files and directories contained in the given directory or the length of a file in case its just a file.</p>
<p>Options:</p>
<ul>

<li>The -s option will result in an aggregate summary of file lengths being displayed, rather than the individual files. Without the -s option, calculation is done by going 1-level deep from the given path.</li>
<li>The -h option will format file sizes in a &#x201c;human-readable&#x201d; fashion (e.g 64.0m instead of 67108864)</li>
<li>The -v option will display the names of columns as a header line.</li>
<li>The -x option will exclude snapshots from the result calculation. Without the -x option (default), the result is always calculated from all INodes, including all snapshots under the given path.</li>
</ul>
<p>The du returns three columns with the following format:</p>

<div class="source">
<div class="source">
<pre>size disk_space_consumed_with_all_replicas full_path_name
</pre></div></div>

<p>Example:</p>
<ul>

<li><code>hadoop fs -du /user/hadoop/dir1 /user/hadoop/file1 hdfs://nn.example.com/user/hadoop/dir1</code></li>
</ul>
<p>Exit Code: Returns 0 on success and -1 on error.</p></section><section>
<h2><a name="dus"></a>dus</h2>
<p>Usage: <code>hadoop fs -dus &lt;args&gt;</code></p>
<p>Displays a summary of file lengths.</p>
<p><b>Note:</b> This command is deprecated. Instead use <code>hadoop fs -du -s</code>.</p></section><section>
<h2><a name="expunge"></a>expunge</h2>
<p>Usage: <code>hadoop fs -expunge [-immediate] [-fs &lt;path&gt;]</code></p>
<p>Permanently delete files in checkpoints older than the retention threshold from trash directory, and create new checkpoint.</p>
<p>When checkpoint is created, recently deleted files in trash are moved under the checkpoint. Files in checkpoints older than <code>fs.trash.interval</code> will be permanently deleted on the next invocation of <code>-expunge</code> command.</p>
<p>If the file system supports the feature, users can configure to create and delete checkpoints periodically by the parameter stored as <code>fs.trash.checkpoint.interval</code> (in core-site.xml). This value should be smaller or equal to <code>fs.trash.interval</code>.</p>
<p>If the <code>-immediate</code> option is passed, all files in the trash for the current user are immediately deleted, ignoring the <code>fs.trash.interval</code> setting.</p>
<p>If the <code>-fs</code> option is passed, the supplied filesystem will be expunged, rather than the default filesystem and checkpoint is created.</p>
<p>For example</p>

<div class="source">
<div class="source">
<pre>hadoop fs -expunge -immediate -fs s3a://landsat-pds/
</pre></div></div>

<p>Refer to the <a href="../hadoop-hdfs/HdfsDesign.html#File_Deletes_and_Undeletes">HDFS Architecture guide</a> for more information about trash feature of HDFS.</p></section><section>
<h2><a name="find"></a>find</h2>
<p>Usage: <code>hadoop fs -find &lt;path&gt; ... &lt;expression&gt; ...</code></p>
<p>Finds all files that match the specified expression and applies selected actions to them. If no <i>path</i> is specified then defaults to the current working directory. If no expression is specified then defaults to -print.</p>
<p>The following primary expressions are recognised:</p>
<ul>

<li>

<p>-name pattern<br />-iname pattern</p>
<p>Evaluates as true if the basename of the file matches the pattern using standard file system globbing. If -iname is used then the match is case insensitive.</p>
</li>
<li>

<p>-print<br />-print0</p>
<p>Always evaluates to true. Causes the current pathname to be written to standard output. If the -print0 expression is used then an ASCII NULL character is appended.</p>
</li>
</ul>
<p>The following operators are recognised:</p>
<ul>

<li>expression -a expression<br />expression -and expression<br />expression expression
<p>Logical AND operator for joining two expressions. Returns true if both child expressions return true. Implied by the juxtaposition of two expressions and so does not need to be explicitly specified. The second expression will not be applied if the first fails.</p></li>
</ul>
<p>Example:</p>
<p><code>hadoop fs -find / -name test -print</code></p>
<p>Exit Code:</p>
<p>Returns 0 on success and -1 on error.</p></section><section>
<h2><a name="get"></a>get</h2>
<p>Usage: <code>hadoop fs -get [-ignoreCrc] [-crc] [-p] [-f] [-t &lt;thread count&gt;] [-q &lt;thread pool queue size&gt;] &lt;src&gt; ... &lt;localdst&gt;</code></p>
<p>Copy files to the local file system. Files that fail the CRC check may be copied with the -ignoreCrc option. Files and CRCs may be copied using the -crc option.</p>
<p>Options:</p>
<ul>

<li><code>-p</code> : Preserves access and modification times, ownership and the permissions. (assuming the permissions can be propagated across filesystems)</li>
<li><code>-f</code> : Overwrites the destination if it already exists.</li>
<li><code>-ignoreCrc</code> : Skip CRC checks on the file(s) downloaded.</li>
<li><code>-crc</code>: write CRC checksums for the files downloaded.</li>
<li><code>-t &lt;thread count&gt;</code> : Number of threads to be used, default is 1. Useful when downloading directories containing more than 1 file.</li>
<li><code>-q &lt;thread pool queue size&gt;</code> : Thread pool queue size to be used, default is 1024. It takes effect only when thread count greater than 1.</li>
</ul>
<p>Example:</p>
<ul>

<li><code>hadoop fs -get /user/hadoop/file localfile</code></li>
<li><code>hadoop fs -get hdfs://nn.example.com/user/hadoop/file localfile</code></li>
<li><code>hadoop fs -get -t 10 hdfs://nn.example.com/user/hadoop/dir1 localdir</code></li>
<li><code>hadoop fs -get -t 10 -q 2048 hdfs://nn.example.com/user/hadoop/dir* localdir</code></li>
</ul>
<p>Exit Code:</p>
<p>Returns 0 on success and -1 on error.</p></section><section>
<h2><a name="getfacl"></a>getfacl</h2>
<p>Usage: <code>hadoop fs -getfacl [-R] &lt;path&gt;</code></p>
<p>Displays the Access Control Lists (ACLs) of files and directories. If a directory has a default ACL, then getfacl also displays the default ACL.</p>
<p>Options:</p>
<ul>

<li>-R: List the ACLs of all files and directories recursively.</li>
<li><i>path</i>: File or directory to list.</li>
</ul>
<p>Examples:</p>
<ul>

<li><code>hadoop fs -getfacl /file</code></li>
<li><code>hadoop fs -getfacl -R /dir</code></li>
</ul>
<p>Exit Code:</p>
<p>Returns 0 on success and non-zero on error.</p></section><section>
<h2><a name="getfattr"></a>getfattr</h2>
<p>Usage: <code>hadoop fs -getfattr [-R] -n name | -d [-e en] &lt;path&gt;</code></p>
<p>Displays the extended attribute names and values (if any) for a file or directory.</p>
<p>Options:</p>
<ul>

<li>-R: Recursively list the attributes for all files and directories.</li>
<li>-n name: Dump the named extended attribute value.</li>
<li>-d: Dump all extended attribute values associated with pathname.</li>
<li>-e <i>encoding</i>: Encode values after retrieving them. Valid encodings are &#x201c;text&#x201d;, &#x201c;hex&#x201d;, and &#x201c;base64&#x201d;. Values encoded as text strings are enclosed in double quotes (&quot;), and values encoded as hexadecimal and base64 are prefixed with 0x and 0s, respectively.</li>
<li><i>path</i>: The file or directory.</li>
</ul>
<p>Examples:</p>
<ul>

<li><code>hadoop fs -getfattr -d /file</code></li>
<li><code>hadoop fs -getfattr -R -n user.myAttr /dir</code></li>
</ul>
<p>Exit Code:</p>
<p>Returns 0 on success and non-zero on error.</p></section><section>
<h2><a name="getmerge"></a>getmerge</h2>
<p>Usage: <code>hadoop fs -getmerge [-nl] [-skip-empty-file] &lt;src&gt; &lt;localdst&gt;</code></p>
<p>Takes a source directory and a destination file as input and concatenates files in src into the destination local file. Optionally -nl can be set to enable adding a newline character (LF) at the end of each file. -skip-empty-file can be used to avoid unwanted newline characters in case of empty files.</p>
<p>Examples:</p>
<ul>

<li><code>hadoop fs -getmerge -nl /src /opt/output.txt</code></li>
<li><code>hadoop fs -getmerge -nl /src/file1.txt /src/file2.txt /output.txt</code></li>
<li><code>hadoop fs -getmerge -nl -skip-empty-file /src/file1.txt /src/file2.txt /output.txt</code></li>
</ul>
<p>Exit Code:</p>
<p>Returns 0 on success and non-zero on error.</p></section><section>
<h2><a name="head"></a>head</h2>
<p>Usage: <code>hadoop fs -head URI</code></p>
<p>Displays first kilobyte of the file to stdout.</p>
<p>Example:</p>
<ul>

<li><code>hadoop fs -head pathname</code></li>
</ul>
<p>Exit Code: Returns 0 on success and -1 on error.</p></section><section>
<h2><a name="help"></a>help</h2>
<p>Usage: <code>hadoop fs -help</code></p>
<p>Return usage output.</p></section><section>
<h2><a name="ls"></a>ls</h2>
<p>Usage: <code>hadoop fs -ls [-C] [-d] [-h] [-q] [-R] [-t] [-S] [-r] [-u] [-e] &lt;args&gt;</code></p>
<p>Options:</p>
<ul>

<li>-C: Display the paths of files and directories only.</li>
<li>-d: Directories are listed as plain files.</li>
<li>-h: Format file sizes in a human-readable fashion (eg 64.0m instead of 67108864).</li>
<li>-q: Print ? instead of non-printable characters.</li>
<li>-R: Recursively list subdirectories encountered.</li>
<li>-t: Sort output by modification time (most recent first).</li>
<li>-S: Sort output by file size.</li>
<li>-r: Reverse the sort order.</li>
<li>-u: Use access time rather than modification time for display and sorting.</li>
<li>-e: Display the erasure coding policy of files and directories only.</li>
</ul>
<p>For a file ls returns stat on the file with the following format:</p>

<div class="source">
<div class="source">
<pre>permissions number_of_replicas userid groupid filesize modification_date modification_time filename
</pre></div></div>

<p>For a directory it returns list of its direct children as in Unix. A directory is listed as:</p>

<div class="source">
<div class="source">
<pre>permissions userid groupid modification_date modification_time dirname
</pre></div></div>

<p>Files within a directory are order by filename by default.</p>
<p>Example:</p>
<ul>

<li><code>hadoop fs -ls /user/hadoop/file1</code></li>
<li><code>hadoop fs -ls -e /ecdir</code></li>
</ul>
<p>Exit Code:</p>
<p>Returns 0 on success and -1 on error.</p></section><section>
<h2><a name="lsr"></a>lsr</h2>
<p>Usage: <code>hadoop fs -lsr &lt;args&gt;</code></p>
<p>Recursive version of ls.</p>
<p><b>Note:</b> This command is deprecated. Instead use <code>hadoop fs -ls -R</code></p></section><section>
<h2><a name="mkdir"></a>mkdir</h2>
<p>Usage: <code>hadoop fs -mkdir [-p] &lt;paths&gt;</code></p>
<p>Takes path uri&#x2019;s as argument and creates directories.</p>
<p>Options:</p>
<ul>

<li>The -p option behavior is much like Unix mkdir -p, creating parent directories along the path.</li>
</ul>
<p>Example:</p>
<ul>

<li><code>hadoop fs -mkdir /user/hadoop/dir1 /user/hadoop/dir2</code></li>
<li><code>hadoop fs -mkdir hdfs://nn1.example.com/user/hadoop/dir hdfs://nn2.example.com/user/hadoop/dir</code></li>
</ul>
<p>Exit Code:</p>
<p>Returns 0 on success and -1 on error.</p></section><section>
<h2><a name="moveFromLocal"></a>moveFromLocal</h2>
<p>Usage: <code>hadoop fs -moveFromLocal &lt;localsrc&gt; &lt;dst&gt;</code></p>
<p>Similar to put command, except that the source localsrc is deleted after it&#x2019;s copied.</p></section><section>
<h2><a name="moveToLocal"></a>moveToLocal</h2>
<p>Usage: <code>hadoop fs -moveToLocal [-crc] &lt;src&gt; &lt;dst&gt;</code></p>
<p>Displays a &#x201c;Not implemented yet&#x201d; message.</p></section><section>
<h2><a name="mv"></a>mv</h2>
<p>Usage: <code>hadoop fs -mv URI [URI ...] &lt;dest&gt;</code></p>
<p>Moves files from source to destination. This command allows multiple sources as well in which case the destination needs to be a directory. Moving files across file systems is not permitted.</p>
<p>Example:</p>
<ul>

<li><code>hadoop fs -mv /user/hadoop/file1 /user/hadoop/file2</code></li>
<li><code>hadoop fs -mv hdfs://nn.example.com/file1 hdfs://nn.example.com/file2 hdfs://nn.example.com/file3 hdfs://nn.example.com/dir1</code></li>
</ul>
<p>Exit Code:</p>
<p>Returns 0 on success and -1 on error.</p></section><section>
<h2><a name="put"></a>put</h2>
<p>Usage: <code>hadoop fs -put [-f] [-p] [-l] [-d] [-t &lt;thread count&gt;] [-q &lt;thread pool queue size&gt;] [ - | &lt;localsrc&gt; ...] &lt;dst&gt;</code></p>
<p>Copy single src, or multiple srcs from local file system to the destination file system. Also reads input from stdin and writes to destination file system if the source is set to &#x201c;-&#x201d;</p>
<p>Copying fails if the file already exists, unless the -f flag is given.</p>
<p>Options:</p>
<ul>

<li><code>-p</code> : Preserves access and modification times, ownership and the permissions. (assuming the permissions can be propagated across filesystems)</li>
<li><code>-f</code> : Overwrites the destination if it already exists.</li>
<li><code>-l</code> : Allow DataNode to lazily persist the file to disk, Forces a replication factor of 1. This flag will result in reduced durability. Use with care.</li>
<li><code>-d</code> : Skip creation of temporary file with the suffix <code>._COPYING_</code>.</li>
<li><code>-t &lt;thread count&gt;</code> : Number of threads to be used, default is 1. Useful when uploading directories containing more than 1 file.</li>
<li><code>-q &lt;thread pool queue size&gt;</code> : Thread pool queue size to be used, default is 1024. It takes effect only when thread count greater than 1.</li>
</ul>
<p>Examples:</p>
<ul>

<li><code>hadoop fs -put localfile /user/hadoop/hadoopfile</code></li>
<li><code>hadoop fs -put -f localfile1 localfile2 /user/hadoop/hadoopdir</code></li>
<li><code>hadoop fs -put -d localfile hdfs://nn.example.com/hadoop/hadoopfile</code></li>
<li><code>hadoop fs -put - hdfs://nn.example.com/hadoop/hadoopfile</code> Reads the input from stdin.</li>
<li><code>hadoop fs -put -t 5 localdir hdfs://nn.example.com/hadoop/hadoopdir</code></li>
<li><code>hadoop fs -put -t 10 -q 2048 localdir1 localdir2 hdfs://nn.example.com/hadoop/hadoopdir</code></li>
</ul>
<p>Exit Code:</p>
<p>Returns 0 on success and -1 on error.</p></section><section>
<h2><a name="renameSnapshot"></a>renameSnapshot</h2>
<p>See <a href="../hadoop-hdfs/HdfsSnapshots.html">HDFS Snapshots Guide</a>.</p></section><section>
<h2><a name="rm"></a>rm</h2>
<p>Usage: <code>hadoop fs -rm [-f] [-r |-R] [-skipTrash] [-safely] URI [URI ...]</code></p>
<p>Delete files specified as args.</p>
<p>If trash is enabled, file system instead moves the deleted file to a trash directory (given by <a href="../../api/org/apache/hadoop/fs/FileSystem.html">FileSystem#getTrashRoot</a>).</p>
<p>Currently, the trash feature is disabled by default. User can enable trash by setting a value greater than zero for parameter <code>fs.trash.interval</code> (in core-site.xml).</p>
<p>See <a href="#expunge">expunge</a> about deletion of files in trash.</p>
<p>Options:</p>
<ul>

<li>The -f option will not display a diagnostic message or modify the exit status to reflect an error if the file does not exist.</li>
<li>The -R option deletes the directory and any content under it recursively.</li>
<li>The -r option is equivalent to -R.</li>
<li>The -skipTrash option will bypass trash, if enabled, and delete the specified file(s) immediately. This can be useful when it is necessary to delete files from an over-quota directory.</li>
<li>The -safely option will require safety confirmation before deleting directory with total number of files greater than <code>hadoop.shell.delete.limit.num.files</code> (in core-site.xml, default: 100). It can be used with -skipTrash to prevent accidental deletion of large directories. Delay is expected when walking over large directory recursively to count the number of files to be deleted before the confirmation.</li>
</ul>
<p>Example:</p>
<ul>

<li><code>hadoop fs -rm hdfs://nn.example.com/file /user/hadoop/emptydir</code></li>
</ul>
<p>Exit Code:</p>
<p>Returns 0 on success and -1 on error.</p></section><section>
<h2><a name="rmdir"></a>rmdir</h2>
<p>Usage: <code>hadoop fs -rmdir [--ignore-fail-on-non-empty] URI [URI ...]</code></p>
<p>Delete a directory.</p>
<p>Options:</p>
<ul>

<li><code>--ignore-fail-on-non-empty</code>: When using wildcards, do not fail if a directory still contains files.</li>
</ul>
<p>Example:</p>
<ul>

<li><code>hadoop fs -rmdir /user/hadoop/emptydir</code></li>
</ul></section><section>
<h2><a name="rmr"></a>rmr</h2>
<p>Usage: <code>hadoop fs -rmr [-skipTrash] URI [URI ...]</code></p>
<p>Recursive version of delete.</p>
<p><b>Note:</b> This command is deprecated. Instead use <code>hadoop fs -rm -r</code></p></section><section>
<h2><a name="setfacl"></a>setfacl</h2>
<p>Usage: <code>hadoop fs -setfacl [-R] [-b |-k -m |-x &lt;acl_spec&gt; &lt;path&gt;] |[--set &lt;acl_spec&gt; &lt;path&gt;]</code></p>
<p>Sets Access Control Lists (ACLs) of files and directories.</p>
<p>Options:</p>
<ul>

<li>-b: Remove all but the base ACL entries. The entries for user, group and others are retained for compatibility with permission bits.</li>
<li>-k: Remove the default ACL.</li>
<li>-R: Apply operations to all files and directories recursively.</li>
<li>-m: Modify ACL. New entries are added to the ACL, and existing entries are retained.</li>
<li>-x: Remove specified ACL entries. Other ACL entries are retained.</li>
<li><code>--set</code>: Fully replace the ACL, discarding all existing entries. The <i>acl_spec</i> must include entries for user, group, and others for compatibility with permission bits. If the ACL spec contains only access entries, then the existing default entries are retained. If the ACL spec contains only default entries, then the existing access entries are retained. If the ACL spec contains both access and default entries, then both are replaced.</li>
<li><i>acl_spec</i>: Comma separated list of ACL entries.</li>
<li><i>path</i>: File or directory to modify.</li>
</ul>
<p>Examples:</p>
<ul>

<li><code>hadoop fs -setfacl -m user:hadoop:rw- /file</code></li>
<li><code>hadoop fs -setfacl -x user:hadoop /file</code></li>
<li><code>hadoop fs -setfacl -b /file</code></li>
<li><code>hadoop fs -setfacl -k /dir</code></li>
<li><code>hadoop fs -setfacl --set user::rw-,user:hadoop:rw-,group::r--,other::r-- /file</code></li>
<li><code>hadoop fs -setfacl -R -m user:hadoop:r-x /dir</code></li>
<li><code>hadoop fs -setfacl -m default:user:hadoop:r-x /dir</code></li>
</ul>
<p>Exit Code:</p>
<p>Returns 0 on success and non-zero on error.</p></section><section>
<h2><a name="setfattr"></a>setfattr</h2>
<p>Usage: <code>hadoop fs -setfattr -n name [-v value] | -x name &lt;path&gt;</code></p>
<p>Sets an extended attribute name and value for a file or directory.</p>
<p>Options:</p>
<ul>

<li>-n name: The extended attribute name.</li>
<li>-v value: The extended attribute value. There are three different encoding methods for the value. If the argument is enclosed in double quotes, then the value is the string inside the quotes. If the argument is prefixed with 0x or 0X, then it is taken as a hexadecimal number. If the argument begins with 0s or 0S, then it is taken as a base64 encoding.</li>
<li>-x name: Remove the extended attribute.</li>
<li><i>path</i>: The file or directory.</li>
</ul>
<p>Examples:</p>
<ul>

<li><code>hadoop fs -setfattr -n user.myAttr -v myValue /file</code></li>
<li><code>hadoop fs -setfattr -n user.noValue /file</code></li>
<li><code>hadoop fs -setfattr -x user.myAttr /file</code></li>
</ul>
<p>Exit Code:</p>
<p>Returns 0 on success and non-zero on error.</p></section><section>
<h2><a name="setrep"></a>setrep</h2>
<p>Usage: <code>hadoop fs -setrep [-R] [-w] &lt;numReplicas&gt; &lt;path&gt;</code></p>
<p>Changes the replication factor of a file. If <i>path</i> is a directory then the command recursively changes the replication factor of all files under the directory tree rooted at <i>path</i>. The EC files will be ignored when executing this command.</p>
<p>Options:</p>
<ul>

<li>The -w flag requests that the command wait for the replication to complete. This can potentially take a very long time.</li>
<li>The -R flag is accepted for backwards compatibility. It has no effect.</li>
</ul>
<p>Example:</p>
<ul>

<li><code>hadoop fs -setrep -w 3 /user/hadoop/dir1</code></li>
</ul>
<p>Exit Code:</p>
<p>Returns 0 on success and -1 on error.</p></section><section>
<h2><a name="stat"></a>stat</h2>
<p>Usage: <code>hadoop fs -stat [format] &lt;path&gt; ...</code></p>
<p>Print statistics about the file/directory at &lt;path&gt; in the specified format. Format accepts permissions in octal (%a) and symbolic (%A), filesize in bytes (%b), type (%F), group name of owner (%g), name (%n), block size (%o), replication (%r), user name of owner(%u), access date(%x, %X), and modification date (%y, %Y). %x and %y show UTC date as &#x201c;yyyy-MM-dd HH:mm:ss&#x201d;, and %X and %Y show milliseconds since January 1, 1970 UTC. If the format is not specified, %y is used by default.</p>
<p>Example:</p>
<ul>

<li><code>hadoop fs -stat &quot;type:%F perm:%a %u:%g size:%b mtime:%y atime:%x name:%n&quot; /file</code></li>
</ul>
<p>Exit Code: Returns 0 on success and -1 on error.</p></section><section>
<h2><a name="tail"></a>tail</h2>
<p>Usage: <code>hadoop fs -tail [-f] URI</code></p>
<p>Displays last kilobyte of the file to stdout.</p>
<p>Options:</p>
<ul>

<li>The -f option will output appended data as the file grows, as in Unix.</li>
</ul>
<p>Example:</p>
<ul>

<li><code>hadoop fs -tail pathname</code></li>
</ul>
<p>Exit Code: Returns 0 on success and -1 on error.</p></section><section>
<h2><a name="test"></a>test</h2>
<p>Usage: <code>hadoop fs -test -[defswrz] URI</code></p>
<p>Options:</p>
<ul>

<li>-d: if the path is a directory, return 0.</li>
<li>-e: if the path exists, return 0.</li>
<li>-f: if the path is a file, return 0.</li>
<li>-s: if the path is not empty, return 0.</li>
<li>-w: if the path exists and write permission is granted, return 0.</li>
<li>-r: if the path exists and read permission is granted, return 0.</li>
<li>-z: if the file is zero length, return 0.</li>
</ul>
<p>Example:</p>
<ul>

<li><code>hadoop fs -test -e filename</code></li>
</ul></section><section>
<h2><a name="text"></a>text</h2>
<p>Usage: <code>hadoop fs -text &lt;src&gt;</code></p>
<p>Takes a source file and outputs the file in text format. The allowed formats are zip and TextRecordInputStream.</p></section><section>
<h2><a name="touch"></a>touch</h2>
<p>Usage: <code>hadoop fs -touch [-a] [-m] [-t TIMESTAMP] [-c] URI [URI ...]</code></p>
<p>Updates the access and modification times of the file specified by the URI to the current time. If the file does not exist, then a zero length file is created at URI with current time as the timestamp of that URI.</p>
<ul>

<li>Use -a option to change only the access time</li>
<li>Use -m option to change only the modification time</li>
<li>Use -t option to specify timestamp (in format yyyyMMdd:HHmmss) instead of current time</li>
<li>Use -c option to not create file if it does not exist</li>
</ul>
<p>The timestamp format is as follows * yyyy Four digit year (e.g. 2018) * MM Two digit month of the year (e.g. 08 for month of August) * dd Two digit day of the month (e.g. 01 for first day of the month) * HH Two digit hour of the day using 24 hour notation (e.g. 23 stands for 11 pm, 11 stands for 11 am) * mm Two digit minutes of the hour * ss Two digit seconds of the minute e.g. 20180809:230000 represents August 9th 2018, 11pm</p>
<p>Example:</p>
<ul>

<li><code>hadoop fs -touch pathname</code></li>
<li><code>hadoop fs -touch -m -t 20180809:230000 pathname</code></li>
<li><code>hadoop fs -touch -t 20180809:230000 pathname</code></li>
<li><code>hadoop fs -touch -a pathname</code></li>
</ul>
<p>Exit Code: Returns 0 on success and -1 on error.</p></section><section>
<h2><a name="touchz"></a>touchz</h2>
<p>Usage: <code>hadoop fs -touchz URI [URI ...]</code></p>
<p>Create a file of zero length. An error is returned if the file exists with non-zero length.</p>
<p>Example:</p>
<ul>

<li><code>hadoop fs -touchz pathname</code></li>
</ul>
<p>Exit Code: Returns 0 on success and -1 on error.</p></section><section>
<h2><a name="truncate"></a>truncate</h2>
<p>Usage: <code>hadoop fs -truncate [-w] &lt;length&gt; &lt;paths&gt;</code></p>
<p>Truncate all files that match the specified file pattern to the specified length.</p>
<p>Options:</p>
<ul>

<li>The -w flag requests that the command waits for block recovery to complete, if necessary.<br />
Without -w flag the file may remain unclosed for some time while the recovery is in progress.<br />
During this time file cannot be reopened for append.</li>
</ul>
<p>Example:</p>
<ul>

<li><code>hadoop fs -truncate 55 /user/hadoop/file1 /user/hadoop/file2</code></li>
<li><code>hadoop fs -truncate -w 127 hdfs://nn1.example.com/user/hadoop/file1</code></li>
</ul></section><section>
<h2><a name="concat"></a>concat</h2>
<p>Usage: <code>hadoop fs -concat &lt;target file&gt; &lt;source files&gt;</code></p>
<p>Concatenate existing source files into the target file. Target file and source files should be in the same directory.</p>
<p>Example:</p>
<ul>

<li><code>hadoop fs -concat hdfs://cluster/user/hadoop/target-file hdfs://cluster/user/hadoop/file-0 hdfs://cluster/user/hadoop/file-1</code></li>
</ul></section><section>
<h2><a name="usage"></a>usage</h2>
<p>Usage: <code>hadoop fs -usage command</code></p>
<p>Return the help for an individual command.</p>
<h1><a name="ObjectStores"></a>Working with Object Storage</h1>
<p>The Hadoop FileSystem shell works with Object Stores such as Amazon S3, Azure ABFS and Google GCS.</p>

<div class="source">
<div class="source">
<pre># Create a directory
hadoop fs -mkdir s3a://bucket/datasets/

# Upload a file from the cluster filesystem
hadoop fs -put /datasets/example.orc s3a://bucket/datasets/

# touch a file
hadoop fs -touchz wasb://yourcontainer@youraccount.blob.core.windows.net/touched
</pre></div></div>

<p>Unlike a normal filesystem, renaming files and directories in an object store usually takes time proportional to the size of the objects being manipulated. As many of the filesystem shell operations use renaming as the final stage in operations, skipping that stage can avoid long delays.</p>
<p>In particular, the <code>put</code> and <code>copyFromLocal</code> commands should both have the <code>-d</code> options set for a direct upload.</p>

<div class="source">
<div class="source">
<pre># Upload a file from the cluster filesystem
hadoop fs -put -d /datasets/example.orc s3a://bucket/datasets/

# Upload a file from under the user's home directory in the local filesystem.
# Note it is the shell expanding the &quot;~&quot;, not the hadoop fs command
hadoop fs -copyFromLocal -d -f ~/datasets/devices.orc s3a://bucket/datasets/

# create a file from stdin
# the special &quot;-&quot; source means &quot;use stdin&quot;
echo &quot;hello&quot; | hadoop fs -put -d -f - wasb://yourcontainer@youraccount.blob.core.windows.net/hello.txt

</pre></div></div>

<p>Objects can be downloaded and viewed:</p>

<div class="source">
<div class="source">
<pre># copy a directory to the local filesystem
hadoop fs -copyToLocal s3a://bucket/datasets/

# copy a file from the object store to the cluster filesystem.
hadoop fs -get wasb://yourcontainer@youraccount.blob.core.windows.net/hello.txt /examples

# print the object
hadoop fs -cat wasb://yourcontainer@youraccount.blob.core.windows.net/hello.txt

# print the object, unzipping it if necessary
hadoop fs -text wasb://yourcontainer@youraccount.blob.core.windows.net/hello.txt

## download log files into a local file
hadoop fs -getmerge wasb://yourcontainer@youraccount.blob.core.windows.net/logs\* log.txt
</pre></div></div>

<p>Commands which list many files tend to be significantly slower than when working with HDFS or other filesystems</p>

<div class="source">
<div class="source">
<pre>hadoop fs -count s3a://bucket/
hadoop fs -du s3a://bucket/
</pre></div></div>

<p>Other slow commands include <code>find</code>, <code>mv</code>, <code>cp</code> and <code>rm</code>.</p>
<p><b>Find</b></p>
<p>This can be very slow on a large store with many directories under the path supplied.</p>

<div class="source">
<div class="source">
<pre># enumerate all files in the object store's container.
hadoop fs -find s3a://bucket/ -print

# remember to escape the wildcards to stop the shell trying to expand them first
hadoop fs -find s3a://bucket/datasets/ -name \*.txt -print
</pre></div></div>

<p><b>Rename</b></p>
<p>The time to rename a file depends on its size.</p>
<p>The time to rename a directory depends on the number and size of all files beneath that directory.</p>

<div class="source">
<div class="source">
<pre>hadoop fs -mv s3a://bucket/datasets s3a://bucket/historical
</pre></div></div>

<p>If the operation is interrupted, the object store will be in an undefined state.</p>
<p><b>Copy</b></p>

<div class="source">
<div class="source">
<pre>hadoop fs -cp s3a://bucket/datasets s3a://bucket/historical
</pre></div></div>

<p>The copy operation reads each file and then writes it back to the object store; the time to complete depends on the amount of data to copy, and the bandwidth in both directions between the local computer and the object store.</p>
<p><b>The further the computer is from the object store, the longer the copy takes</b></p></section><section>
<h2><a name="Deleting_objects"></a>Deleting objects</h2>
<p>The <code>rm</code> command will delete objects and directories full of objects. If the object store is <i>eventually consistent</i>, <code>fs ls</code> commands and other accessors may briefly return the details of the now-deleted objects; this is an artifact of object stores which cannot be avoided.</p>
<p>If the filesystem client is configured to copy files to a trash directory, this will be in the bucket; the <code>rm</code> operation will then take time proportional to the size of the data. Furthermore, the deleted files will continue to incur storage costs.</p>
<p>To avoid this, use the <code>-skipTrash</code> option.</p>

<div class="source">
<div class="source">
<pre>hadoop fs -rm -skipTrash s3a://bucket/dataset
</pre></div></div>

<p>Data moved to the <code>.Trash</code> directory can be purged using the <code>expunge</code> command. As this command only works with the default filesystem, it must be configured to make the default filesystem the target object store.</p>

<div class="source">
<div class="source">
<pre>hadoop fs -expunge -D fs.defaultFS=s3a://bucket/
</pre></div></div>
</section><section>
<h2><a name="Overwriting_Objects"></a>Overwriting Objects</h2>
<p>If an object store is <i>eventually consistent</i>, then any operation which overwrites existing objects may not be immediately visible to all clients/queries. That is: later operations which query the same object&#x2019;s status or contents may get the previous object. This can sometimes surface within the same client, while reading a single object.</p>
<p>Avoid having a sequence of commands which overwrite objects and then immediately work on the updated data; there is a risk that the previous data will be used instead.</p></section><section>
<h2><a name="Timestamps"></a>Timestamps</h2>
<p>Timestamps of objects and directories in Object Stores may not follow the behavior of files and directories in HDFS.</p>
<ol style="list-style-type: decimal">

<li>The creation and initial modification times of an object will be the time it was created on the object store; this will be at the end of the write process, not the beginning.</li>
<li>The timestamp will be taken from the object store infrastructure&#x2019;s clock, not that of the client.</li>
<li>If an object is overwritten, the modification time will be updated.</li>
<li>Directories may or may not have valid timestamps. They are unlikely to have their modification times updated when an object underneath is updated.</li>
<li>The <code>atime</code> access time feature is not supported by any of the object stores found in the Apache Hadoop codebase.</li>
</ol>
<p>Consult the <code>DistCp</code> documentation for details on how this may affect the <code>distcp -update</code> operation.</p></section><section>
<h2><a name="Security_model_and_operations"></a>Security model and operations</h2>
<p>The security and permissions models of object stores are usually very different from those of a Unix-style filesystem; operations which query or manipulate permissions are generally unsupported.</p>
<p>Operations to which this applies include: <code>chgrp</code>, <code>chmod</code>, <code>chown</code>, <code>getfacl</code>, and <code>setfacl</code>. The related attribute commands <code>getfattr</code> and<code>setfattr</code> are also usually unavailable.</p>
<ul>

<li>

<p>Filesystem commands which list permission and user/group details, usually simulate these details.</p>
</li>
<li>

<p>Operations which try to preserve permissions (example <code>fs -put -p</code>) do not preserve permissions for this reason. (Special case: <code>wasb://</code>, which preserves permissions but does not enforce them).</p>
</li>
</ul>
<p>When interacting with read-only object stores, the permissions found in &#x201c;list&#x201d; and &#x201c;stat&#x201d; commands may indicate that the user has write access, when in fact they do not.</p>
<p>Object stores usually have permissions models of their own, models can be manipulated through store-specific tooling. Be aware that some of the permissions which an object store may provide (such as write-only paths, or different permissions on the root path) may be incompatible with the Hadoop filesystem clients. These tend to require full read and write access to the entire object store bucket/container into which they write data.</p>
<p>As an example of how permissions are mocked, here is a listing of Amazon&#x2019;s public, read-only bucket of Landsat images:</p>

<div class="source">
<div class="source">
<pre>$ hadoop fs -ls s3a://landsat-pds/
Found 10 items
drwxrwxrwx   - mapred          0 2016-09-26 12:16 s3a://landsat-pds/L8
-rw-rw-rw-   1 mapred      23764 2015-01-28 18:13 s3a://landsat-pds/index.html
drwxrwxrwx   - mapred          0 2016-09-26 12:16 s3a://landsat-pds/landsat-pds_stats
-rw-rw-rw-   1 mapred        105 2016-08-19 18:12 s3a://landsat-pds/robots.txt
-rw-rw-rw-   1 mapred         38 2016-09-26 12:16 s3a://landsat-pds/run_info.json
drwxrwxrwx   - mapred          0 2016-09-26 12:16 s3a://landsat-pds/runs
-rw-rw-rw-   1 mapred   27458808 2016-09-26 12:16 s3a://landsat-pds/scene_list.gz
drwxrwxrwx   - mapred          0 2016-09-26 12:16 s3a://landsat-pds/tarq
drwxrwxrwx   - mapred          0 2016-09-26 12:16 s3a://landsat-pds/tarq_corrupt
drwxrwxrwx   - mapred          0 2016-09-26 12:16 s3a://landsat-pds/test
</pre></div></div>

<ol style="list-style-type: decimal">

<li>All files are listed as having full read/write permissions.</li>
<li>All directories appear to have full <code>rwx</code> permissions.</li>
<li>The replication count of all files is &#x201c;1&#x201d;.</li>
<li>The owner of all files and directories is declared to be the current user (<code>mapred</code>).</li>
<li>The timestamp of all directories is actually that of the time the <code>-ls</code> operation was executed. This is because these directories are not actual objects in the store; they are simulated directories based on the existence of objects under their paths.</li>
</ol>
<p>When an attempt is made to delete one of the files, the operation fails &#x2014;despite the permissions shown by the <code>ls</code> command:</p>

<div class="source">
<div class="source">
<pre>$ hadoop fs -rm s3a://landsat-pds/scene_list.gz
rm: s3a://landsat-pds/scene_list.gz: delete on s3a://landsat-pds/scene_list.gz:
  com.amazonaws.services.s3.model.AmazonS3Exception: Access Denied (Service: Amazon S3;
  Status Code: 403; Error Code: AccessDenied; Request ID: 1EF98D5957BCAB3D),
  S3 Extended Request ID: wi3veOXFuFqWBUCJgV3Z+NQVj9gWgZVdXlPU4KBbYMsw/gA+hyhRXcaQ+PogOsDgHh31HlTCebQ=
</pre></div></div>

<p>This demonstrates that the listed permissions cannot be taken as evidence of write access; only object manipulation can determine this.</p>
<p>Note that the Microsoft Azure WASB filesystem does allow permissions to be set and checked, however the permissions are not actually enforced. This feature offers the ability for a HDFS directory tree to be backed up with DistCp, with its permissions preserved, permissions which may be restored when copying the directory back into HDFS. For securing access to the data in the object store, however, Azure&#x2019;s <a class="externalLink" href="https://azure.microsoft.com/en-us/documentation/articles/storage-security-guide/">own model and tools must be used</a>.</p></section><section>
<h2><a name="Commands_of_limited_value"></a>Commands of limited value</h2>
<p>Here is the list of shell commands which generally have no effect &#x2014;and  may actually fail.</p>
<table border="0" class="bodyTable">
<thead>

<tr class="a">
<th> command   </th>
<th> limitations </th></tr>
</thead><tbody>

<tr class="b">
<td> <code>appendToFile</code> </td>
<td> generally unsupported </td></tr>
<tr class="a">
<td> <code>checksum</code> </td>
<td> the usual checksum is &#x201c;NONE&#x201d; </td></tr>
<tr class="b">
<td> <code>chgrp</code> </td>
<td> generally unsupported permissions model; no-op </td></tr>
<tr class="a">
<td> <code>chmod</code> </td>
<td> generally unsupported permissions model; no-op</td></tr>
<tr class="b">
<td> <code>chown</code> </td>
<td> generally unsupported permissions model; no-op </td></tr>
<tr class="a">
<td> <code>createSnapshot</code> </td>
<td> generally unsupported </td></tr>
<tr class="b">
<td> <code>deleteSnapshot</code> </td>
<td> generally unsupported </td></tr>
<tr class="a">
<td> <code>df</code> </td>
<td> default values are normally displayed </td></tr>
<tr class="b">
<td> <code>getfacl</code> </td>
<td> may or may not be supported </td></tr>
<tr class="a">
<td> <code>getfattr</code> </td>
<td> generally supported </td></tr>
<tr class="b">
<td> <code>renameSnapshot</code> </td>
<td> generally unsupported </td></tr>
<tr class="a">
<td> <code>setfacl</code> </td>
<td> generally unsupported permissions model </td></tr>
<tr class="b">
<td> <code>setfattr</code> </td>
<td> generally unsupported permissions model </td></tr>
<tr class="a">
<td> <code>setrep</code></td>
<td> has no effect </td></tr>
<tr class="b">
<td> <code>truncate</code> </td>
<td> generally unsupported </td></tr>
<tr class="a">
<td> <code>concat</code> </td>
<td> generally unsupported </td></tr>
</tbody>
</table>
<p>Different object store clients <i>may</i> support these commands: do consult the documentation and test against the target store.</p></section>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
        &#169;            2008-2024
              Apache Software Foundation
            
                          - <a href="http://maven.apache.org/privacy-policy.html">Privacy Policy</a>.
        Apache Maven, Maven, Apache, the Apache feather logo, and the Apache Maven project logos are trademarks of The Apache Software Foundation.
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
